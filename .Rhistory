doPlot = TRUE
)
devtools::load_all()
library(here)
LifeHistoryObj <- LifeHistoryExample
LifeHistoryObj@recSD <- 0
LifeHistoryObj@recRho <- 0
LifeHistoryObj@Steep <- 0.8
FisheryObj<-new("Fishery")
FisheryObj@title<-"Test"
FisheryObj@vulType<-"logistic"
FisheryObj@vulParams<-c(50,75)
FisheryObj@retType<-"full"
FisheryObj@retMax <- 1
FisheryObj@Dmort <- 0
ProFisheryObj<-new("Fishery")
ProFisheryObj@title<-"Test"
ProFisheryObj@vulType<-"logistic"
ProFisheryObj@vulParams<-c(75,85)
ProFisheryObj@retType<-"full"
ProFisheryObj@retMax <- 1
ProFisheryObj@Dmort <- 0
TimeAreaObj<-new("TimeArea")
TimeAreaObj@title = "Test"
TimeAreaObj@gtg = 13
TimeAreaObj@areas = 2
TimeAreaObj@recArea = c(0.99, 0.01)
TimeAreaObj@iterations = 5
TimeAreaObj@historicalYears = 0
TimeAreaObj@historicalBio = 0.5
TimeAreaObj@historicalBioType = "relB"
TimeAreaObj@move <- matrix(c(1,0, 0,1), nrow=2, ncol=2, byrow=FALSE)
TimeAreaObj@historicalEffort<-matrix()
StrategyObj <- new("Strategy")
StrategyObj@projectionYears <- 100
StrategyObj@projectionName<-"projectionStrategy"
StrategyObj@projectionParams<-list(bag = c(5, 5), effort = matrix(rep(0.5, 100), nrow=100, ncol=2, byrow = FALSE))
StochasticObj<-new("Stochastic")
StochasticObj@historicalBio = c(0.2, 0.8)
StochasticObj@historicalCPUE = c(5,5)
StochasticObj@historicalCPUEType = "vulN"
runProjection(LifeHistoryObj = LifeHistoryObj,
TimeAreaObj = TimeAreaObj,
HistFisheryObj = FisheryObj,
ProFisheryObj = ProFisheryObj,
StrategyObj = StrategyObj,
StochasticObj = StochasticObj,
wd = here("data-test"),
fileName = "projectionModel",
doPlot = TRUE
)
devtools::load_all()
library(here)
LifeHistoryObj <- LifeHistoryExample
LifeHistoryObj@recSD <- 0
LifeHistoryObj@recRho <- 0
LifeHistoryObj@Steep <- 0.8
FisheryObj<-new("Fishery")
FisheryObj@title<-"Test"
FisheryObj@vulType<-"logistic"
FisheryObj@vulParams<-c(50,75)
FisheryObj@retType<-"full"
FisheryObj@retMax <- 1
FisheryObj@Dmort <- 0
ProFisheryObj<-new("Fishery")
ProFisheryObj@title<-"Test"
ProFisheryObj@vulType<-"logistic"
ProFisheryObj@vulParams<-c(75,85)
ProFisheryObj@retType<-"full"
ProFisheryObj@retMax <- 1
ProFisheryObj@Dmort <- 0
TimeAreaObj<-new("TimeArea")
TimeAreaObj@title = "Test"
TimeAreaObj@gtg = 13
TimeAreaObj@areas = 2
TimeAreaObj@recArea = c(0.99, 0.01)
TimeAreaObj@iterations = 5
TimeAreaObj@historicalYears = 50
TimeAreaObj@historicalBio = 0.5
TimeAreaObj@historicalBioType = "relB"
TimeAreaObj@move <- matrix(c(1,0, 0,1), nrow=2, ncol=2, byrow=FALSE)
TimeAreaObj@historicalEffort<-matrix(1:1, nrow = 50, ncol = 2, byrow = FALSE)
StrategyObj <- new("Strategy")
StrategyObj@projectionYears <- 100
StrategyObj@projectionName<-"projectionStrategy"
StrategyObj@projectionParams<-list(bag = c(5, 5), effort = matrix(rep(0.5, 100), nrow=100, ncol=2, byrow = FALSE))
StochasticObj<-new("Stochastic")
StochasticObj@historicalBio = c(0.2, 0.8)
StochasticObj@historicalCPUE = c(5,5)
StochasticObj@historicalCPUEType = "vulN"
runProjection(LifeHistoryObj = LifeHistoryObj,
TimeAreaObj = TimeAreaObj,
HistFisheryObj = FisheryObj,
ProFisheryObj = ProFisheryObj,
StrategyObj = StrategyObj,
StochasticObj = StochasticObj,
wd = here("data-test"),
fileName = "projectionModel",
doPlot = TRUE
)
#---------------------------
#Create a change in bag limit + size limit + effort reduction w/ historical period + plus rec var'n
#---------------------------
devtools::load_all()
library(here)
LifeHistoryObj <- LifeHistoryExample
LifeHistoryObj@recSD <- 0.6
LifeHistoryObj@recRho <- 0
LifeHistoryObj@Steep <- 0.8
FisheryObj<-new("Fishery")
FisheryObj@title<-"Test"
FisheryObj@vulType<-"logistic"
FisheryObj@vulParams<-c(50,75)
FisheryObj@retType<-"full"
FisheryObj@retMax <- 1
FisheryObj@Dmort <- 0
ProFisheryObj<-new("Fishery")
ProFisheryObj@title<-"Test"
ProFisheryObj@vulType<-"logistic"
ProFisheryObj@vulParams<-c(75,85)
ProFisheryObj@retType<-"full"
ProFisheryObj@retMax <- 1
ProFisheryObj@Dmort <- 0
TimeAreaObj<-new("TimeArea")
TimeAreaObj@title = "Test"
TimeAreaObj@gtg = 13
TimeAreaObj@areas = 2
TimeAreaObj@recArea = c(0.99, 0.01)
TimeAreaObj@iterations = 5
TimeAreaObj@historicalYears = 50
TimeAreaObj@historicalBio = 0.5
TimeAreaObj@historicalBioType = "relB"
TimeAreaObj@move <- matrix(c(1,0, 0,1), nrow=2, ncol=2, byrow=FALSE)
TimeAreaObj@historicalEffort<-matrix(1:1, nrow = 50, ncol = 2, byrow = FALSE)
StrategyObj <- new("Strategy")
StrategyObj@projectionYears <- 100
StrategyObj@projectionName<-"projectionStrategy"
StrategyObj@projectionParams<-list(bag = c(5, 5), effort = matrix(rep(0.5, 100), nrow=100, ncol=2, byrow = FALSE))
StochasticObj<-new("Stochastic")
StochasticObj@historicalBio = c(0.2, 0.8)
StochasticObj@historicalCPUE = c(5,5)
StochasticObj@historicalCPUEType = "vulN"
runProjection(LifeHistoryObj = LifeHistoryObj,
TimeAreaObj = TimeAreaObj,
HistFisheryObj = FisheryObj,
ProFisheryObj = ProFisheryObj,
StrategyObj = StrategyObj,
StochasticObj = StochasticObj,
wd = here("data-test"),
fileName = "projectionModel",
doPlot = TRUE
)
remotes::install_github("natureanalytics-ca/fishSimGTG")
renv::snapshot()
source('D:/Cloud/Nature Analytics web apps/Packages and modules/fishSimGTG/data-raw/Testing_MSEWrappers.R', echo=TRUE)
remotes::install_github("natureanalytics-ca/fishSimGTG")
renv::snapshot()
devtools::load_all()
library(here)
LifeHistoryObj <- LifeHistoryExample
LifeHistoryObj@recSD <- 0.6
LifeHistoryObj@recRho <- 0
LifeHistoryObj@Steep <- 0.8
FisheryObj<-new("Fishery")
FisheryObj@title<-"Test"
FisheryObj@vulType<-"logistic"
FisheryObj@vulParams<-c(50,75)
FisheryObj@retType<-"full"
FisheryObj@retMax <- 1
FisheryObj@Dmort <- 0
ProFisheryObj<-new("Fishery")
ProFisheryObj@title<-"Test"
ProFisheryObj@vulType<-"logistic"
ProFisheryObj@vulParams<-c(75,85)
ProFisheryObj@retType<-"full"
ProFisheryObj@retMax <- 1
ProFisheryObj@Dmort <- 0
TimeAreaObj<-new("TimeArea")
TimeAreaObj@title = "Test"
TimeAreaObj@gtg = 13
TimeAreaObj@areas = 2
TimeAreaObj@recArea = c(0.99, 0.01)
TimeAreaObj@iterations = 10
TimeAreaObj@historicalYears = 50
TimeAreaObj@historicalBio = 0.5
TimeAreaObj@historicalBioType = "relB"
TimeAreaObj@move <- matrix(c(1,0, 0,1), nrow=2, ncol=2, byrow=FALSE)
TimeAreaObj@historicalEffort<-matrix(1:1, nrow = 50, ncol = 2, byrow = FALSE)
StrategyObj <- new("Strategy")
StrategyObj@projectionYears <- 100
StrategyObj@projectionName<-"projectionStrategy"
StrategyObj@projectionParams<-list(bag = c(5, 5), effort = matrix(rep(0.5, 100), nrow=100, ncol=2, byrow = FALSE))
StochasticObj<-new("Stochastic")
StochasticObj@historicalBio = c(0.2, 0.8)
StochasticObj@historicalCPUE = c(5,5)
StochasticObj@historicalCPUEType = "vulN"
runProjection(LifeHistoryObj = LifeHistoryObj,
TimeAreaObj = TimeAreaObj,
HistFisheryObj = FisheryObj,
ProFisheryObj = ProFisheryObj,
StrategyObj = StrategyObj,
StochasticObj = StochasticObj,
wd = here("data-test"),
fileName = "projectionModel",
doPlot = TRUE
)
source('D:/Cloud/Nature Analytics web apps/Packages and modules/fishSimGTG/R/MSEWrappers.R')
source('D:/Cloud/Nature Analytics web apps/Packages and modules/fishSimGTG/R/MSEWrappers.R')
source('D:/Cloud/Nature Analytics web apps/Packages and modules/fishSimGTG/R/MSEWrappers.R')
devtools::load_all()
library(here)
LifeHistoryObj <- LifeHistoryExample
LifeHistoryObj@recSD <- 0.6
LifeHistoryObj@recRho <- 0
LifeHistoryObj@Steep <- 0.8
FisheryObj<-new("Fishery")
FisheryObj@title<-"Test"
FisheryObj@vulType<-"logistic"
FisheryObj@vulParams<-c(50,75)
FisheryObj@retType<-"full"
FisheryObj@retMax <- 1
FisheryObj@Dmort <- 0
ProFisheryObj<-new("Fishery")
ProFisheryObj@title<-"Test"
ProFisheryObj@vulType<-"logistic"
ProFisheryObj@vulParams<-c(75,85)
ProFisheryObj@retType<-"full"
ProFisheryObj@retMax <- 1
ProFisheryObj@Dmort <- 0
TimeAreaObj<-new("TimeArea")
TimeAreaObj@title = "Test"
TimeAreaObj@gtg = 13
TimeAreaObj@areas = 2
TimeAreaObj@recArea = c(0.99, 0.01)
TimeAreaObj@iterations = 10
TimeAreaObj@historicalYears = 50
TimeAreaObj@historicalBio = 0.5
TimeAreaObj@historicalBioType = "relB"
TimeAreaObj@move <- matrix(c(1,0, 0,1), nrow=2, ncol=2, byrow=FALSE)
TimeAreaObj@historicalEffort<-matrix(1:1, nrow = 50, ncol = 2, byrow = FALSE)
StrategyObj <- new("Strategy")
StrategyObj@projectionYears <- 100
StrategyObj@projectionName<-"projectionStrategy"
StrategyObj@projectionParams<-list(bag = c(5, 5), effort = matrix(rep(0.5, 100), nrow=100, ncol=2, byrow = FALSE))
StochasticObj<-new("Stochastic")
StochasticObj@historicalBio = c(0.2, 0.8)
StochasticObj@historicalCPUE = c(5,5)
StochasticObj@historicalCPUEType = "vulN"
runProjection(LifeHistoryObj = LifeHistoryObj,
TimeAreaObj = TimeAreaObj,
HistFisheryObj = FisheryObj,
ProFisheryObj = ProFisheryObj,
StrategyObj = StrategyObj,
StochasticObj = StochasticObj,
wd = here("data-test"),
fileName = "projectionModel",
doPlot = TRUE
)
require(snowfall)
require(parallel)
print("Running on multiple cores")
cores<-min(iterations, detectCores())
sfInit(parallel=T, cpus=cores)
#sfLibrary(truncnorm)
sfLibrary(fishSimGTG)
sfRemoveAll()
sfStop()
cores<-min(iterations, detectCores())
sfInit(parallel=T, cpus=cores)
#sfLibrary(truncnorm)
sfLibrary(fishSimGTG)
require(snowfall)
require(parallel)
iterations <- floor(TimeAreaObj@iterations)
cores<-min(iterations, detectCores())
sfInit(parallel=T, cpus=cores)
#sfLibrary(truncnorm)
sfLibrary(fishSimGTG)
devtools::load_all()
library(here)
LifeHistoryObj <- LifeHistoryExample
LifeHistoryObj@recSD <- 0
LifeHistoryObj@recRho <- 0
LifeHistoryObj@Steep <- 0.6
FisheryObj<-new("Fishery")
FisheryObj@title<-"Test"
FisheryObj@vulType<-"logistic"
FisheryObj@vulParams<-c(50,75)
FisheryObj@retType<-"full"
FisheryObj@retMax <- 1
FisheryObj@Dmort <- 0
TimeAreaObj<-new("TimeArea")
TimeAreaObj@title = "Test"
TimeAreaObj@gtg = 13
TimeAreaObj@areas = 2
TimeAreaObj@recArea = c(0.99, 0.01)
TimeAreaObj@iterations = 10
TimeAreaObj@historicalYears = 50
TimeAreaObj@historicalBio = 0.5
TimeAreaObj@historicalBioType = "relB"
TimeAreaObj@move <- matrix(c(1,0, 0,1), nrow=2, ncol=2, byrow=FALSE)
TimeAreaObj@historicalEffort<-matrix(1:1, nrow=50, ncol=2)
StochasticObj<-new("Stochastic")
StochasticObj@historicalBio = c(0.2, 0.8)
runProjection(LifeHistoryObj = LifeHistoryObj, TimeAreaObj = TimeAreaObj, HistFisheryObj = FisheryObj, StochasticObj=StochasticObj, wd = here("data-test"), fileName = "constantModel", doPlot = TRUE)
devtools::load_all()
library(here)
LifeHistoryObj <- LifeHistoryExample
LifeHistoryObj@recSD <- 0.6
LifeHistoryObj@recRho <- 0
LifeHistoryObj@Steep <- 0.8
FisheryObj<-new("Fishery")
FisheryObj@title<-"Test"
FisheryObj@vulType<-"logistic"
FisheryObj@vulParams<-c(50,75)
FisheryObj@retType<-"full"
FisheryObj@retMax <- 1
FisheryObj@Dmort <- 0
ProFisheryObj<-new("Fishery")
ProFisheryObj@title<-"Test"
ProFisheryObj@vulType<-"logistic"
ProFisheryObj@vulParams<-c(75,85)
ProFisheryObj@retType<-"full"
ProFisheryObj@retMax <- 1
ProFisheryObj@Dmort <- 0
TimeAreaObj<-new("TimeArea")
TimeAreaObj@title = "Test"
TimeAreaObj@gtg = 13
TimeAreaObj@areas = 2
TimeAreaObj@recArea = c(0.99, 0.01)
TimeAreaObj@iterations = 10
TimeAreaObj@historicalYears = 50
TimeAreaObj@historicalBio = 0.5
TimeAreaObj@historicalBioType = "relB"
TimeAreaObj@move <- matrix(c(1,0, 0,1), nrow=2, ncol=2, byrow=FALSE)
TimeAreaObj@historicalEffort<-matrix(1:1, nrow = 50, ncol = 2, byrow = FALSE)
StrategyObj <- new("Strategy")
StrategyObj@projectionYears <- 100
StrategyObj@projectionName<-"projectionStrategy"
StrategyObj@projectionParams<-list(bag = c(5, 5), effort = matrix(rep(0.5, 100), nrow=100, ncol=2, byrow = FALSE))
StochasticObj<-new("Stochastic")
StochasticObj@historicalBio = c(0.2, 0.8)
StochasticObj@historicalCPUE = c(5,5)
StochasticObj@historicalCPUEType = "vulN"
runProjection(LifeHistoryObj = LifeHistoryObj,
TimeAreaObj = TimeAreaObj,
HistFisheryObj = FisheryObj,
ProFisheryObj = ProFisheryObj,
StrategyObj = StrategyObj,
StochasticObj = StochasticObj,
wd = here("data-test"),
fileName = "projectionModel",
doPlot = TRUE
)
#---------------------------
#Create a change in bag limit + size limit + effort reduction w/ historical period + plus rec var'n
#---------------------------
devtools::load_all()
library(here)
LifeHistoryObj <- LifeHistoryExample
LifeHistoryObj@recSD <- 0.6
LifeHistoryObj@recRho <- 0
LifeHistoryObj@Steep <- 0.8
FisheryObj<-new("Fishery")
FisheryObj@title<-"Test"
FisheryObj@vulType<-"logistic"
FisheryObj@vulParams<-c(50,75)
FisheryObj@retType<-"full"
FisheryObj@retMax <- 1
FisheryObj@Dmort <- 0
ProFisheryObj<-new("Fishery")
ProFisheryObj@title<-"Test"
ProFisheryObj@vulType<-"logistic"
ProFisheryObj@vulParams<-c(75,85)
ProFisheryObj@retType<-"full"
ProFisheryObj@retMax <- 1
ProFisheryObj@Dmort <- 0
TimeAreaObj<-new("TimeArea")
TimeAreaObj@title = "Test"
TimeAreaObj@gtg = 13
TimeAreaObj@areas = 2
TimeAreaObj@recArea = c(0.99, 0.01)
TimeAreaObj@iterations = 10
TimeAreaObj@historicalYears = 50
TimeAreaObj@historicalBio = 0.5
TimeAreaObj@historicalBioType = "relB"
TimeAreaObj@move <- matrix(c(1,0, 0,1), nrow=2, ncol=2, byrow=FALSE)
TimeAreaObj@historicalEffort<-matrix(1:1, nrow = 50, ncol = 2, byrow = FALSE)
StrategyObj <- new("Strategy")
StrategyObj@projectionYears <- 100
StrategyObj@projectionName<-"projectionStrategy"
StrategyObj@projectionParams<-list(bag = c(5, 5), effort = matrix(rep(0.5, 100), nrow=100, ncol=2, byrow = FALSE))
StochasticObj<-new("Stochastic")
StochasticObj@historicalBio = c(0.2, 0.8)
StochasticObj@historicalCPUE = c(5,5)
StochasticObj@historicalCPUEType = "vulN"
runProjection(LifeHistoryObj = LifeHistoryObj,
TimeAreaObj = TimeAreaObj,
HistFisheryObj = FisheryObj,
ProFisheryObj = ProFisheryObj,
StrategyObj = StrategyObj,
StochasticObj = StochasticObj,
wd = here("data-test"),
fileName = "projectionModel",
doPlot = TRUE
)
remotes::install_github("natureanalytics-ca/fishSimGTG")
renv::snapshot()
install.packages("xfun")
renv::snapshot()
devtools::load_all()
?grid.arrange
devtool::check()
devtools::check()
?set.seed
install.packages("devtools")
install.packages("roxygen2")
renv::snapshot()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
?sfInit
?gather
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
sfRemoveAll()
snowfall::sfRemoveAll()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
?detectCores
devtools::check()
devtools::check()
devtools::check()
?sfExport
?sfLapply
library(fishSimGTG)
projectionStrategy
devtools::check()
remotes::install_github("natureanalytics-ca/fishSimGTG")
devtools::load_all()
library(here)
LifeHistoryObj <- LifeHistoryExample
LifeHistoryObj@recSD <- 0.6
LifeHistoryObj@recRho <- 0
LifeHistoryObj@Steep <- 0.8
FisheryObj<-new("Fishery")
FisheryObj@title<-"Test"
FisheryObj@vulType<-"logistic"
FisheryObj@vulParams<-c(50,75)
FisheryObj@retType<-"full"
FisheryObj@retMax <- 1
FisheryObj@Dmort <- 0
ProFisheryObj<-new("Fishery")
ProFisheryObj@title<-"Test"
ProFisheryObj@vulType<-"logistic"
ProFisheryObj@vulParams<-c(75,85)
ProFisheryObj@retType<-"full"
ProFisheryObj@retMax <- 1
ProFisheryObj@Dmort <- 0
TimeAreaObj<-new("TimeArea")
TimeAreaObj@title = "Test"
TimeAreaObj@gtg = 13
TimeAreaObj@areas = 2
TimeAreaObj@recArea = c(0.99, 0.01)
TimeAreaObj@iterations = 10
TimeAreaObj@historicalYears = 50
TimeAreaObj@historicalBio = 0.5
TimeAreaObj@historicalBioType = "relB"
TimeAreaObj@move <- matrix(c(1,0, 0,1), nrow=2, ncol=2, byrow=FALSE)
TimeAreaObj@historicalEffort<-matrix(1:1, nrow = 50, ncol = 2, byrow = FALSE)
StrategyObj <- new("Strategy")
StrategyObj@projectionYears <- 100
StrategyObj@projectionName<-"projectionStrategy"
StrategyObj@projectionParams<-list(bag = c(5, 5), effort = matrix(rep(0.5, 100), nrow=100, ncol=2, byrow = FALSE))
StochasticObj<-new("Stochastic")
StochasticObj@historicalBio = c(0.2, 0.8)
StochasticObj@historicalCPUE = c(5,5)
StochasticObj@historicalCPUEType = "vulN"
runProjection(LifeHistoryObj = LifeHistoryObj,
TimeAreaObj = TimeAreaObj,
HistFisheryObj = FisheryObj,
ProFisheryObj = ProFisheryObj,
StrategyObj = StrategyObj,
StochasticObj = StochasticObj,
wd = here("data-test"),
fileName = "projectionModel",
doPlot = TRUE
)
?setDefaultClusterOptions
??setDefaultClusterOptions
