print("Time in minutes: ")
print((proc.time()-ptm)/60)
ptm<-proc.time()
sim2<-lbsprSimWrapperAbsel(LifeHistoryObj = lh)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
ptm<-proc.time()
sim3<-gtgYPRWrapper(LifeHistoryObj = lh, gtg=13, stepsPerYear = 1)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
ptm<-proc.time()
sim4<-gtgYPRWrapper(LifeHistoryObj = lh, gtg=21, stepsPerYear = 12)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
plot(sim@sim$F_M, sim@sim$YPR_EU[,70]/max(sim@sim$YPR_EU), type="l", col="red")
lines(sim2@sim$F_M, sim2@sim$YPR_EU[,70]/max(sim2@sim$YPR_EU), col="blue")
lines(sim3@sim$F_M, sim3@sim$YPR_EU[,70]/max(sim3@sim$YPR_EU), col="green")
lines(sim4@sim$F_M, sim4@sim$YPR_EU[,70]/max(sim4@sim$YPR_EU), col="orange")
plot(sim@sim$F_M, sim@sim$YPR_EU[,70]/max(sim@sim$YPR_EU), type="l", col="red")
lines(sim2@sim$F_M, sim2@sim$YPR_EU[,70]/max(sim2@sim$YPR_EU), col="blue")
lines(sim3@sim$F_M, sim3@sim$YPR_EU[,70]/max(sim3@sim$YPR_EU), col="green")
lines(sim4@sim$F_M, sim4@sim$YPR_EU[,70]/max(sim4@sim$YPR_EU), col="orange")
lines(sim2@sim$F_M, sim2@sim$Yield_EU[,70], col="blue")
lines(sim3@sim$F_M, sim3@sim$Yield_EU[,70]/max(sim3@sim$Yield_EU), col="green")
lines(sim4@sim$F_M, sim4@sim$Yield_EU[,70]/max(sim4@sim$Yield_EU), col="orange")
plot(sim@sim$F_M, sim@sim$SPR_EU[,70], type="l", col="red", main = "0.01")
lines(sim2@sim$F_M, sim2@sim$SPR_EU[,70], col="blue")
lines(sim3@sim$F_M, sim3@sim$SPR_EU[,70], col="green")
lines(sim4@sim$F_M, sim4@sim$SPR_EU[,70], col="orange")
plot(sim@sim$Lc, sim@sim$YPR_EU[15,]/max(sim@sim$YPR_EU), type="l", col="red", ylim = c(0,1))
lines(sim2@sim$Lc, sim2@sim$YPR_EU[15,]/max(sim2@sim$YPR_EU), col="blue")
lines(sim3@sim$Lc, sim3@sim$YPR_EU[15,]/max(sim3@sim$YPR_EU), col="green")
lines(sim4@sim$Lc, sim4@sim$YPR_EU[15,]/max(sim4@sim$YPR_EU), col="orange")
plot(sim@sim$Lc, sim@sim$Yield_EU[15,], type="l", col="red", main = "0.01")
lines(sim2@sim$Lc, sim2@sim$Yield_EU[15,], col="blue")
lines(sim3@sim$Lc, sim3@sim$Yield_EU[15,]/max(sim3@sim$Yield_EU), col="green")
lines(sim4@sim$Lc, sim4@sim$Yield_EU[15,]/max(sim4@sim$Yield_EU), col="orange")
plot(sim@sim$Lc, sim@sim$SPR_EU[15,], type="l", col="red", main = "0.01")
lines(sim2@sim$Lc, sim2@sim$SPR_EU[15,], col="blue")
lines(sim3@sim$Lc, sim3@sim$SPR_EU[15,], col="green")
lines(sim4@sim$Lc, sim4@sim$SPR_EU[15,], col="orange")
plot(sim@sim$Lc, sim@sim$YPR_EU[15,]/max(sim@sim$YPR_EU), type="l", col="red", ylim = c(0,1))
lines(sim2@sim$Lc, sim2@sim$YPR_EU[15,]/max(sim2@sim$YPR_EU), col="blue")
lines(sim3@sim$Lc, sim3@sim$YPR_EU[15,]/max(sim3@sim$YPR_EU), col="green")
lines(sim4@sim$Lc, sim4@sim$YPR_EU[15,]/max(sim4@sim$YPR_EU), col="orange")
#LH
lh<-LifeHistoryExample
lh@MK<-3
lh@M<-0.6
lh@K<-0.2
lh@Tmax<-1 #Keeping this set at 1 will override Tmax and use -log(0.01)/M for max age
ptm<-proc.time()
sim<-lbsprSimWrapper(LifeHistoryObj = lh)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
ptm<-proc.time()
sim2<-lbsprSimWrapperAbsel(LifeHistoryObj = lh)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
ptm<-proc.time()
sim3<-gtgYPRWrapper(LifeHistoryObj = lh, gtg=13, stepsPerYear = 1)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
ptm<-proc.time()
sim4<-gtgYPRWrapper(LifeHistoryObj = lh, gtg=21, stepsPerYear = 12)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
plot(sim@sim$F_M, sim@sim$YPR_EU[,70]/max(sim@sim$YPR_EU), type="l", col="red")
lines(sim2@sim$F_M, sim2@sim$YPR_EU[,70]/max(sim2@sim$YPR_EU), col="blue")
lines(sim3@sim$F_M, sim3@sim$YPR_EU[,70]/max(sim3@sim$YPR_EU), col="green")
lines(sim4@sim$F_M, sim4@sim$YPR_EU[,70]/max(sim4@sim$YPR_EU), col="orange")
plot(sim@sim$F_M, sim@sim$Yield_EU[,70], type="l", col="red", main = "0.01")
lines(sim2@sim$F_M, sim2@sim$Yield_EU[,70], col="blue")
lines(sim3@sim$F_M, sim3@sim$Yield_EU[,70]/max(sim3@sim$Yield_EU), col="green")
lines(sim4@sim$F_M, sim4@sim$Yield_EU[,70]/max(sim4@sim$Yield_EU), col="orange")
plot(sim@sim$F_M, sim@sim$SPR_EU[,70], type="l", col="red", main = "0.01")
lines(sim2@sim$F_M, sim2@sim$SPR_EU[,70], col="blue")
lines(sim3@sim$F_M, sim3@sim$SPR_EU[,70], col="green")
lines(sim4@sim$F_M, sim4@sim$SPR_EU[,70], col="orange")
plot(sim@sim$Lc, sim@sim$YPR_EU[15,]/max(sim@sim$YPR_EU), type="l", col="red", ylim = c(0,1))
lines(sim2@sim$Lc, sim2@sim$YPR_EU[15,]/max(sim2@sim$YPR_EU), col="blue")
lines(sim3@sim$Lc, sim3@sim$YPR_EU[15,]/max(sim3@sim$YPR_EU), col="green")
lines(sim4@sim$Lc, sim4@sim$YPR_EU[15,]/max(sim4@sim$YPR_EU), col="orange")
plot(sim@sim$Lc, sim@sim$Yield_EU[15,], type="l", col="red", main = "0.01")
lines(sim2@sim$Lc, sim2@sim$Yield_EU[15,], col="blue")
lines(sim3@sim$Lc, sim3@sim$Yield_EU[15,]/max(sim3@sim$Yield_EU), col="green")
lines(sim4@sim$Lc, sim4@sim$Yield_EU[15,]/max(sim4@sim$Yield_EU), col="orange")
plot(sim@sim$Lc, sim@sim$SPR_EU[15,], type="l", col="red", main = "0.01")
lines(sim2@sim$Lc, sim2@sim$SPR_EU[15,], col="blue")
lines(sim3@sim$Lc, sim3@sim$SPR_EU[15,], col="green")
lines(sim4@sim$Lc, sim4@sim$SPR_EU[15,], col="orange")
#---------------------
#Comparing YPR curves
#---------------------
#LH
lh<-LifeHistoryExample
lh@MK<-3
lh@M<-0.6
lh@K<-0.2
lh@Tmax<-1 #Keeping this set at 1 will override Tmax and use -log(0.01)/M for max age
ptm<-proc.time()
sim<-lbsprSimWrapper(LifeHistoryObj = lh)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
ptm<-proc.time()
sim2<-lbsprSimWrapperAbsel(LifeHistoryObj = lh)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
ptm<-proc.time()
sim3<-gtgYPRWrapper(LifeHistoryObj = lh, gtg=13, stepsPerYear = 1)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
ptm<-proc.time()
sim4<-gtgYPRWrapper(LifeHistoryObj = lh, gtg=13, stepsPerYear = 12)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
plot(sim@sim$F_M, sim@sim$YPR_EU[,70]/max(sim@sim$YPR_EU), type="l", col="red")
lines(sim2@sim$F_M, sim2@sim$YPR_EU[,70]/max(sim2@sim$YPR_EU), col="blue")
lines(sim3@sim$F_M, sim3@sim$YPR_EU[,70]/max(sim3@sim$YPR_EU), col="green")
lines(sim4@sim$F_M, sim4@sim$YPR_EU[,70]/max(sim4@sim$YPR_EU), col="orange")
plot(sim@sim$F_M, sim@sim$Yield_EU[,70], type="l", col="red", main = "0.01")
lines(sim2@sim$F_M, sim2@sim$Yield_EU[,70], col="blue")
lines(sim3@sim$F_M, sim3@sim$Yield_EU[,70]/max(sim3@sim$Yield_EU), col="green")
lines(sim4@sim$F_M, sim4@sim$Yield_EU[,70]/max(sim4@sim$Yield_EU), col="orange")
plot(sim@sim$F_M, sim@sim$SPR_EU[,70], type="l", col="red", main = "0.01")
lines(sim2@sim$F_M, sim2@sim$SPR_EU[,70], col="blue")
lines(sim3@sim$F_M, sim3@sim$SPR_EU[,70], col="green")
lines(sim4@sim$F_M, sim4@sim$SPR_EU[,70], col="orange")
plot(sim@sim$Lc, sim@sim$YPR_EU[15,]/max(sim@sim$YPR_EU), type="l", col="red", ylim = c(0,1))
lines(sim2@sim$Lc, sim2@sim$YPR_EU[15,]/max(sim2@sim$YPR_EU), col="blue")
lines(sim3@sim$Lc, sim3@sim$YPR_EU[15,]/max(sim3@sim$YPR_EU), col="green")
lines(sim4@sim$Lc, sim4@sim$YPR_EU[15,]/max(sim4@sim$YPR_EU), col="orange")
plot(sim@sim$Lc, sim@sim$Yield_EU[15,], type="l", col="red", main = "0.01")
lines(sim2@sim$Lc, sim2@sim$Yield_EU[15,], col="blue")
lines(sim3@sim$Lc, sim3@sim$Yield_EU[15,]/max(sim3@sim$Yield_EU), col="green")
lines(sim4@sim$Lc, sim4@sim$Yield_EU[15,]/max(sim4@sim$Yield_EU), col="orange")
plot(sim@sim$Lc, sim@sim$SPR_EU[15,], type="l", col="red", main = "0.01")
lines(sim2@sim$Lc, sim2@sim$SPR_EU[15,], col="blue")
lines(sim3@sim$Lc, sim3@sim$SPR_EU[15,], col="green")
lines(sim4@sim$Lc, sim4@sim$SPR_EU[15,], col="orange")
#LH
lh<-LifeHistoryExample
lh@MK<-0.5
lh@M<-0.1
lh@K<-0.2
lh@Tmax<-1 #Keeping this set at 1 will override Tmax and use -log(0.01)/M for max age
ptm<-proc.time()
sim<-lbsprSimWrapper(LifeHistoryObj = lh)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
ptm<-proc.time()
sim2<-lbsprSimWrapperAbsel(LifeHistoryObj = lh)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
ptm<-proc.time()
sim3<-gtgYPRWrapper(LifeHistoryObj = lh, gtg=13, stepsPerYear = 1)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
ptm<-proc.time()
sim4<-gtgYPRWrapper(LifeHistoryObj = lh, gtg=13, stepsPerYear = 12)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
plot(sim@sim$F_M, sim@sim$YPR_EU[,70]/max(sim@sim$YPR_EU), type="l", col="red")
lines(sim2@sim$F_M, sim2@sim$YPR_EU[,70]/max(sim2@sim$YPR_EU), col="blue")
lines(sim3@sim$F_M, sim3@sim$YPR_EU[,70]/max(sim3@sim$YPR_EU), col="green")
lines(sim4@sim$F_M, sim4@sim$YPR_EU[,70]/max(sim4@sim$YPR_EU), col="orange")
plot(sim@sim$F_M, sim@sim$Yield_EU[,70], type="l", col="red", main = "0.01")
lines(sim2@sim$F_M, sim2@sim$Yield_EU[,70], col="blue")
lines(sim3@sim$F_M, sim3@sim$Yield_EU[,70]/max(sim3@sim$Yield_EU), col="green")
lines(sim4@sim$F_M, sim4@sim$Yield_EU[,70]/max(sim4@sim$Yield_EU), col="orange")
plot(sim@sim$F_M, sim@sim$SPR_EU[,70], type="l", col="red", main = "0.01")
lines(sim2@sim$F_M, sim2@sim$SPR_EU[,70], col="blue")
lines(sim3@sim$F_M, sim3@sim$SPR_EU[,70], col="green")
lines(sim4@sim$F_M, sim4@sim$SPR_EU[,70], col="orange")
plot(sim@sim$Lc, sim@sim$YPR_EU[15,]/max(sim@sim$YPR_EU), type="l", col="red", ylim = c(0,1))
lines(sim2@sim$Lc, sim2@sim$YPR_EU[15,]/max(sim2@sim$YPR_EU), col="blue")
lines(sim3@sim$Lc, sim3@sim$YPR_EU[15,]/max(sim3@sim$YPR_EU), col="green")
lines(sim4@sim$Lc, sim4@sim$YPR_EU[15,]/max(sim4@sim$YPR_EU), col="orange")
plot(sim@sim$Lc, sim@sim$Yield_EU[15,], type="l", col="red", main = "0.01")
lines(sim2@sim$Lc, sim2@sim$Yield_EU[15,], col="blue")
lines(sim3@sim$Lc, sim3@sim$Yield_EU[15,]/max(sim3@sim$Yield_EU), col="green")
lines(sim4@sim$Lc, sim4@sim$Yield_EU[15,]/max(sim4@sim$Yield_EU), col="orange")
#SPR
plot(sim@sim$Lc, sim@sim$SPR_EU[15,], type="l", col="red", main = "0.01")
lines(sim2@sim$Lc, sim2@sim$SPR_EU[15,], col="blue")
lines(sim3@sim$Lc, sim3@sim$SPR_EU[15,], col="green")
lines(sim4@sim$Lc, sim4@sim$SPR_EU[15,], col="orange")
#LH
lh<-LifeHistoryExample
lh@Linf<-17.7
lh@L50<-14.4
lh@L95<-15.4
lh@MK<-0.559
lh@M<-0.8
lh@K<-1.43
lh@t0<-0.051
lh@Tmax<-5.76 #Keeping this set at 1 will override Tmax and use -log(0.01)/M for max age
ptm<-proc.time()
sim<-lbsprSimWrapper(LifeHistoryObj = lh)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
ptm<-proc.time()
sim2<-lbsprSimWrapperAbsel(LifeHistoryObj = lh)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
ptm<-proc.time()
sim3<-gtgYPRWrapper(LifeHistoryObj = lh, gtg=13, stepsPerYear = 1)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
ptm<-proc.time()
sim4<-gtgYPRWrapper(LifeHistoryObj = lh, gtg=21, stepsPerYear = 12)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
ptm<-proc.time()
sim4<-gtgYPRWrapper(LifeHistoryObj = lh, gtg=13, stepsPerYear = 12)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
plot(sim@sim$F_M, sim@sim$YPR_EU[,5]/max(sim@sim$YPR_EU), type="l", col="red")
lines(sim2@sim$F_M, sim2@sim$YPR_EU[,5]/max(sim2@sim$YPR_EU), col="blue")
lines(sim3@sim$F_M, sim3@sim$YPR_EU[,5]/max(sim3@sim$YPR_EU), col="green")
lines(sim4@sim$F_M, sim4@sim$YPR_EU[,5]/max(sim4@sim$YPR_EU), col="orange")
plot(sim@sim$F_M, sim@sim$Yield_EU[,5], type="l", col="red", main = "0.01")
lines(sim2@sim$F_M, sim2@sim$Yield_EU[,5], col="blue")
lines(sim3@sim$F_M, sim3@sim$Yield_EU[,5]/max(sim3@sim$Yield_EU), col="green")
lines(sim4@sim$F_M, sim4@sim$Yield_EU[,5]/max(sim4@sim$Yield_EU), col="orange")
plot(sim@sim$F_M, sim@sim$SPR_EU[,5], type="l", col="red", main = "0.01")
lines(sim2@sim$F_M, sim2@sim$SPR_EU[,5], col="blue")
lines(sim3@sim$F_M, sim3@sim$SPR_EU[,5], col="green")
lines(sim4@sim$F_M, sim4@sim$SPR_EU[,5], col="orange")
plot(sim@sim$F_M, sim@sim$YPR_EU[,5]/max(sim@sim$YPR_EU), type="l", col="red")
lines(sim2@sim$F_M, sim2@sim$YPR_EU[,5]/max(sim2@sim$YPR_EU), col="blue")
lines(sim3@sim$F_M, sim3@sim$YPR_EU[,5]/max(sim3@sim$YPR_EU), col="green")
lines(sim4@sim$F_M, sim4@sim$YPR_EU[,5]/max(sim4@sim$YPR_EU), col="orange")
plot(sim@sim$F_M, sim@sim$Yield_EU[,5], type="l", col="red", main = "0.01")
lines(sim2@sim$F_M, sim2@sim$Yield_EU[,5], col="blue")
lines(sim3@sim$F_M, sim3@sim$Yield_EU[,5]/max(sim3@sim$Yield_EU), col="green")
lines(sim4@sim$F_M, sim4@sim$Yield_EU[,5]/max(sim4@sim$Yield_EU), col="orange")
plot(sim@sim$F_M, sim@sim$SPR_EU[,5], type="l", col="red", main = "0.01")
lines(sim2@sim$F_M, sim2@sim$SPR_EU[,5], col="blue")
lines(sim3@sim$F_M, sim3@sim$SPR_EU[,5], col="green")
lines(sim4@sim$F_M, sim4@sim$SPR_EU[,5], col="orange")
plot(sim@sim$Lc, sim@sim$YPR_EU[15,]/max(sim@sim$YPR_EU), type="l", col="red", ylim = c(0,1))
lines(sim2@sim$Lc, sim2@sim$YPR_EU[15,]/max(sim2@sim$YPR_EU), col="blue")
lines(sim3@sim$Lc, sim3@sim$YPR_EU[15,]/max(sim3@sim$YPR_EU), col="green")
lines(sim4@sim$Lc, sim4@sim$YPR_EU[15,]/max(sim4@sim$YPR_EU), col="orange")
plot(sim@sim$Lc, sim@sim$Yield_EU[15,], type="l", col="red", main = "0.01")
lines(sim2@sim$Lc, sim2@sim$Yield_EU[15,], col="blue")
lines(sim3@sim$Lc, sim3@sim$Yield_EU[15,]/max(sim3@sim$Yield_EU), col="green")
lines(sim4@sim$Lc, sim4@sim$Yield_EU[15,]/max(sim4@sim$Yield_EU), col="orange")
plot(sim@sim$Lc, sim@sim$SPR_EU[15,], type="l", col="red", main = "0.01")
lines(sim2@sim$Lc, sim2@sim$SPR_EU[15,], col="blue")
lines(sim3@sim$Lc, sim3@sim$SPR_EU[15,], col="green")
lines(sim4@sim$Lc, sim4@sim$SPR_EU[15,], col="orange")
-log(0.01)/0.8
0.8/1.43
lh
devtools::check()
100*110
lh<-LifeHistoryExample
lh@Linf<-55.8
lh@L50<-32
lh@L95<-33
lh@MK<-0.559
lh@M<-0.3
lh@K<-0.17
lh@t0<--1.7
lh@Tmax<-21 #Keeping this set at 1 will override Tmax and use -log(0.01)/M for max age
ptm<-proc.time()
sim<-lbsprSimWrapper(LifeHistoryObj = lh)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
ptm<-proc.time()
sim2<-lbsprSimWrapperAbsel(LifeHistoryObj = lh)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
ptm<-proc.time()
sim3<-gtgYPRWrapper(LifeHistoryObj = lh, gtg=13, stepsPerYear = 1)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
ptm<-proc.time()
sim4<-gtgYPRWrapper(LifeHistoryObj = lh, gtg=13, stepsPerYear = 12)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
plot(sim@sim$Lc, sim@sim$YPR_EU[15,]/max(sim@sim$YPR_EU), type="l", col="red", ylim = c(0,1))
lines(sim2@sim$Lc, sim2@sim$YPR_EU[15,]/max(sim2@sim$YPR_EU), col="blue")
lines(sim3@sim$Lc, sim3@sim$YPR_EU[15,]/max(sim3@sim$YPR_EU), col="green")
lines(sim4@sim$Lc, sim4@sim$YPR_EU[15,]/max(sim4@sim$YPR_EU), col="orange")
ta<-new("TimeArea")
ta@gtg<-13
ta@stepsPerYear<-12
ptm<-proc.time()
x<-LHwrapper(LifeHistoryObj = lh, TimeAreaObj=ta)
print("Time in minutes: ")
print((proc.time()-ptm)/60)
x$L[[7]]
x$maxAge
plot(0:x$maxAge, x$L[[7]])
plot(seq(0, x$maxAge. by = x$stepsPerYear), x$L[[7]])
plot(seq(0, x$maxAge, by = x$stepsPerYear), x$L[[7]])
length(x$L[[7]])
x$stepsPerYear
length(seq(0,x$maxAge, by = x$stepsPerYear))
length(seq(0,x$maxAge, by = 1/x$stepsPerYear))
plot(seq(0, x$maxAge, by = 1/x$stepsPerYear), x$L[[7]])
abline(h=14)
14*3
#----------------------------------------
#Demonstrate plotting function of solveD
#----------------------------------------
FisheryObj<-new("Fishery")
FisheryObj@title<-"Test"
FisheryObj@historicalVulType<-"logistic"
FisheryObj@historicalVulParams<-c(50,75)
FisheryObj@historicalRetType<-"full"
FisheryObj@historicalRetParams<-c(60,70)
FisheryObj@historicalRetMax<-1
FisheryObj@historicalDmort<-0
ta<-new("TimeArea")
ta@gtg<-13
ta@stepsPerYear<-12
lh<-LHwrapper(LifeHistoryObj=LifeHistoryExample, TimeAreaObj = ta)
sel<-selWrapper(LifeHistoryObj=LifeHistoryExample, TimeAreaObj = ta, FisheryObj = FisheryObj, doProjection = TRUE, doPlot = TRUE)
X<-solveD(lh, sel, doFit = FALSE, F_in = 0, doPlot = TRUE)
X$YPR
FisheryObj<-new("Fishery")
FisheryObj@title<-"Test"
FisheryObj@historicalVulType<-"logistic"
FisheryObj@historicalVulParams<-c(1,2)
FisheryObj@historicalRetType<-"full"
FisheryObj@historicalRetParams<-c(60,70)
FisheryObj@historicalRetMax<-1
FisheryObj@historicalDmort<-0
ta<-new("TimeArea")
ta@gtg<-13
ta@stepsPerYear<-12
lh<-LHwrapper(LifeHistoryObj=LifeHistoryExample, TimeAreaObj = ta)
sel<-selWrapper(LifeHistoryObj=LifeHistoryExample, TimeAreaObj = ta, FisheryObj = FisheryObj, doProjection = TRUE, doPlot = TRUE)
sel
FisheryObj<-new("Fishery")
FisheryObj@title<-"Test"
FisheryObj@historicalVulType<-"logistic"
FisheryObj@historicalVulParams<-c(1,2)
FisheryObj@historicalRetType<-"slotLimit"
FisheryObj@historicalRetParams<-c(60,70)
FisheryObj@historicalRetMax<-1
FisheryObj@historicalDmort<-0
ta<-new("TimeArea")
ta@gtg<-13
ta@stepsPerYear<-12
lh<-LHwrapper(LifeHistoryObj=LifeHistoryExample, TimeAreaObj = ta)
sel<-selWrapper(LifeHistoryObj=LifeHistoryExample, TimeAreaObj = ta, FisheryObj = FisheryObj, doProjection = TRUE, doPlot = TRUE)
X<-solveD(lh, sel, doFit = FALSE, F_in = 0.2, doPlot = TRUE)
X$YPR
LifeHistoryExample
<-new("Fishery")
FisheryObj@title<-"Test"
FisheryObj@historicalVulType<-"logistic"
FisheryObj@historicalVulParams<-c(1,2)
FisheryObj@historicalRetType<-"slotLimit"
FisheryObj@historicalRetParams<-c(60,130)
FisheryObj@historicalRetMax<-1
FisheryObj@historicalDmort<-0
ta<-new("TimeArea")
ta@gtg<-13
ta@stepsPerYear<-12
lh<-LHwrapper(LifeHistoryObj=LifeHistoryExample, TimeAreaObj = ta)
sel<-selWrapper(LifeHistoryObj=LifeHistoryExample, TimeAreaObj = ta, FisheryObj = FisheryObj, doProjection = TRUE, doPlot = TRUE)
X<-solveD(lh, sel, doFit = FALSE, F_in = 0.2, doPlot = TRUE)
X$YPR
X
FisheryObj<-new("Fishery")
FisheryObj@title<-"Test"
FisheryObj@historicalVulType<-"logistic"
FisheryObj@historicalVulParams<-c(1,2)
FisheryObj@historicalRetType<-"logistic"
FisheryObj@historicalRetParams<-c(60,61)
FisheryObj@historicalRetMax<-1
FisheryObj@historicalDmort<-0
ta<-new("TimeArea")
ta@gtg<-13
ta@stepsPerYear<-12
lh<-LHwrapper(LifeHistoryObj=LifeHistoryExample, TimeAreaObj = ta)
sel<-selWrapper(LifeHistoryObj=LifeHistoryExample, TimeAreaObj = ta, FisheryObj = FisheryObj, doProjection = TRUE, doPlot = TRUE)
X<-solveD(lh, sel, doFit = FALSE, F_in = 0.2, doPlot = TRUE)
X$YPR
X$SPR
FisheryObj<-new("Fishery")
FisheryObj@title<-"Test"
FisheryObj@historicalVulType<-"logistic"
FisheryObj@historicalVulParams<-c(1,2)
FisheryObj@historicalRetType<-"logistic"
FisheryObj@historicalRetParams<-c(66,95)
FisheryObj@historicalRetMax<-1
FisheryObj@historicalDmort<-0
ta<-new("TimeArea")
ta@gtg<-13
ta@stepsPerYear<-12
lh<-LHwrapper(LifeHistoryObj=LifeHistoryExample, TimeAreaObj = ta)
sel<-selWrapper(LifeHistoryObj=LifeHistoryExample, TimeAreaObj = ta, FisheryObj = FisheryObj, doProjection = TRUE, doPlot = TRUE)
X<-solveD(lh, sel, doFit = FALSE, F_in = 0.2, doPlot = TRUE)
X$YPR
X<-solveD(lh, sel, doFit = FALSE, F_in = 3*LifeHistoryExample@M, doPlot = TRUE)
X$YPR
LifeHistoryExample
FisheryObj<-new("Fishery")
FisheryObj@title<-"Test"
FisheryObj@historicalVulType<-"logistic"
FisheryObj@historicalVulParams<-c(1,2)
FisheryObj@historicalRetType<-"logistic"
FisheryObj@historicalRetParams<-c(66,95)
FisheryObj@historicalRetMax<-1
FisheryObj@historicalDmort<-0
ta<-new("TimeArea")
ta@gtg<-13
ta@stepsPerYear<-12
lh<-LHwrapper(LifeHistoryObj=LifeHistoryExample, TimeAreaObj = ta)
sel<-selWrapper(LifeHistoryObj=LifeHistoryExample, TimeAreaObj = ta, FisheryObj = FisheryObj, doProjection = TRUE, doPlot = TRUE)
FisheryObj<-new("Fishery")
FisheryObj@title<-"Test"
FisheryObj@historicalVulType<-"logistic"
FisheryObj@historicalVulParams<-c(1,2)
FisheryObj@historicalRetType<-"slotLimit"
FisheryObj@historicalRetParams<-c(66,95)
FisheryObj@historicalRetMax<-1
FisheryObj@historicalDmort<-0
ta<-new("TimeArea")
ta@gtg<-13
ta@stepsPerYear<-12
lh<-LHwrapper(LifeHistoryObj=LifeHistoryExample, TimeAreaObj = ta)
sel<-selWrapper(LifeHistoryObj=LifeHistoryExample, TimeAreaObj = ta, FisheryObj = FisheryObj, doProjection = TRUE, doPlot = TRUE)
X<-solveD(lh, sel, doFit = FALSE, F_in = 3*LifeHistoryExample@M, doPlot = TRUE)
X$YPR
FisheryObj<-new("Fishery")
FisheryObj@title<-"Test"
FisheryObj@historicalVulType<-"logistic"
FisheryObj@historicalVulParams<-c(1,2)
FisheryObj@historicalRetType<-"slotLimit"
FisheryObj@historicalRetParams<-c(66,2000)
FisheryObj@historicalRetMax<-1
FisheryObj@historicalDmort<-0
ta<-new("TimeArea")
ta@gtg<-13
ta@stepsPerYear<-12
lh<-LHwrapper(LifeHistoryObj=LifeHistoryExample, TimeAreaObj = ta)
sel<-selWrapper(LifeHistoryObj=LifeHistoryExample, TimeAreaObj = ta, FisheryObj = FisheryObj, doProjection = TRUE, doPlot = TRUE)
X<-solveD(lh, sel, doFit = FALSE, F_in = 3*LifeHistoryExample@M, doPlot = TRUE)
X$YPR
FisheryObj<-new("Fishery")
FisheryObj@title<-"Test"
FisheryObj@historicalVulType<-"logistic"
FisheryObj@historicalVulParams<-c(0,1)
FisheryObj@historicalRetType<-"slotLimit"
FisheryObj@historicalRetParams<-c(26,33)
FisheryObj@historicalRetMax<-1
FisheryObj@historicalDmort<-0
ta<-new("TimeArea")
ta@gtg<-13
ta@stepsPerYear<-12
lhIn<-LifeHistoryExample
lh@MK<-0.36
lh@M<-0.09
lh@K<-0.25
lh@L50 <-25.7
lh@L95 <-26.7
lh@Linf <-33.8
lh@Tmax<-1 #Keeping this set at 1 will override Tmax and use -log(0.01)/M for max age
lh<-LHwrapper(LifeHistoryObj=lhIn, TimeAreaObj = ta)
lh
sel<-selWrapper(LifeHistoryObj=lhIn, TimeAreaObj = ta, FisheryObj = FisheryObj, doProjection = TRUE, doPlot = TRUE)
X<-solveD(lh, sel, doFit = FALSE, F_in = 3*LifeHistoryExample@M, doPlot = TRUE)
X$YPR
X<-c(3372, 5520, 7806, 3246, 10998, 55508, 19278, 8598, 2538, 8400, 4428, 6714, 8700, 8460, 5046, 502, 6528, 2622, 10440, 6618, 14010, 8730, 7422, 7698, 2022)
hist(X)
hist(X)
X<-c(3372, 5520, 7806, 3246, 10998, 5508, 19278, 8598, 2538, 8400, 4428, 6714, 8700, 8460, 5046, 502, 6528, 2622, 10440, 6618, 14010, 8730, 7422, 7698, 2022)
hist(X)
max(X)
?hist
devtools::load_all()
library(LBSPR)
#Life history
LifeHistoryExample<-new("LifeHistory")
LifeHistoryExample@Linf<-100
LifeHistoryExample@L50<-66
LifeHistoryExample@L95<-67
LifeHistoryExample@MK<-1.5
LifeHistoryExample@LW_A<-0.01
LifeHistoryExample@LW_B<-3
LifeHistoryExample@title<-"Example fish"
LifeHistoryExample@shortDescription<-"Simulated life history of a fish based on B-H invariants"
LifeHistoryExample@speciesName<-"Example fish"
LifeHistoryExample@L_type<-"TL"
LifeHistoryExample@L_units<-"cm"
LifeHistoryExample@Walpha_units<-"g"
LifeHistoryExample@K<-0.2
LifeHistoryExample@M<-0.3
LifeHistoryExample@t0<-0
LifeHistoryExample@Tmax<- floor(-log(0.01)/0.3)
LifeHistoryExample@Steep<-0.99
LifeHistoryExample@R0<-1000
LifeHistoryExample@recSD<-0.6
LifeHistoryExample@recRho<-0
LifeHistoryExample@isHermaph<-FALSE
gtgSimExample<-gtgYPRWrapper(LifeHistoryExample)
usethis::use_data(gtgSimExample, overwrite = TRUE)
gtgSimExample
devtools::check()
0.1*500/5
0.1*500/4
38185+11250+58835+22000+8195+38600+25920
202985-50000-85000
160/30
