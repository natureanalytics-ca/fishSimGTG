mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename_with(
~ case_when(
. == "title" ~ "Title",
. == "speciesName" ~ "Species",
. == "shortDescription" ~ "Short description",
. == "L_type" ~ "Length type",
. == "L_units" ~ "Length units",
. == "Walpha_units" ~ "Weight units",
. == "Linf" ~ "von Bertalanffy Loo",
. == "K" ~ "von Bertalanffy K",
. == "t0" ~ "von Bertalanffy t0",
. == "L50" ~ "Length at 50% maturity",
. == "L95" ~ "Length at 95% maturity",
. == "M" ~ "Natural mortality",
. == "MK" ~ "M/K",
. == "LW_A" ~ "Length-weight alpha",
. == "LW_B" ~ "Length-weight beta",
. == "Tmax" ~ "Maximum age",
. == "Steep" ~ "Beverton-Holt steepness",
. == "author" ~ "Author",
. == "authAffiliation" ~ "Author affiliation",
. == "longDescription" ~ "Long description",
TRUE ~ .
)
) %>%
gather()
LifeHistoryObj<-new('LifeHistory')
LifeHistoryObj@LW_A<-0.0000001232312
LifeHistoryObj@longDescription<-"1"
digits<-3
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename_with(
~ case_when(
. == "title" ~ "Title",
. == "speciesName" ~ "Species",
. == "shortDescription" ~ "Short description",
. == "L_type" ~ "Length type",
. == "L_units" ~ "Length units",
. == "Walpha_units" ~ "Weight units",
. == "Linf" ~ "von Bertalanffy Loo",
. == "K" ~ "von Bertalanffy K",
. == "t0" ~ "von Bertalanffy t0",
. == "L50" ~ "Length at 50% maturity",
. == "L95" ~ "Length at 95% maturity",
. == "M" ~ "Natural mortality",
. == "MK" ~ "M/K",
. == "LW_A" ~ "Length-weight alpha",
. == "LW_B" ~ "Length-weight beta",
. == "Tmax" ~ "Maximum age",
. == "Steep" ~ "Beverton-Holt steepness",
. == "author" ~ "Author",
. == "authAffiliation" ~ "Author affiliation",
. == "longDescription" ~ "Long description",
TRUE ~ .
)
) %>%
gather()
devtools::check()
devtools::load_all()
library(tidyverse)
LifeHistoryObj<-LifeHistoryExample
nms <- slotNames(LifeHistoryObj)
LifeHistoryObj
LifeHistoryExample
devtools::load_all()
library(LBSPR)
LifeHistoryExample<-new("LifeHistory")
LifeHistoryExample@Linf<-100
LifeHistoryExample@L50<-66
LifeHistoryExample@L95<-67
LifeHistoryExample@MK<-1.5
LifeHistoryExample@LW_A<-0.01
LifeHistoryExample@LW_B<-3
LifeHistoryExample
devtools::load_all()
library(tidyverse)
LifeHistoryExample
fishSimGTG::LifeHistoryExample
devtools::load_all()
library(LBSPR)
LifeHistoryExample<-new("LifeHistory")
LifeHistoryExample@Linf<-100
LifeHistoryExample@L50<-66
LifeHistoryExample@L95<-67
LifeHistoryExample@MK<-1.5
LifeHistoryExample@LW_A<-0.01
LifeHistoryExample@LW_B<-3
LifeHistoryExample@title<-"Example fish"
LifeHistoryExample@shortDescription<-"Simulated life history of a fish based on B-H invariants"
LifeHistoryExample@speciesName<-"Example fish"
LifeHistoryExample@L_type<-"TL"
LifeHistoryExample@L_units<-"cm"
LifeHistoryExample@Walpha_units<-"g"
LifeHistoryExample@K<-0.2
LifeHistoryExample@M<-0.3
LifeHistoryExample@t0<-0
LifeHistoryExample@Tmax<- floor(-log(0.01)/0.3)
LifeHistoryExample@Steep<-0.99
LifeHistoryExample<-new("LifeHistory")
LifeHistoryExample@Linf<-100
LifeHistoryExample@L50<-66
LifeHistoryExample@L95<-67
LifeHistoryExample@MK<-1.5
LifeHistoryExample@LW_A<-0.01
LifeHistoryExample@LW_B<-3
LifeHistoryExample@title<-"Example fish"
LifeHistoryExample@shortDescription<-"Simulated life history of a fish based on B-H invariants"
LifeHistoryExample@speciesName<-"Example fish"
LifeHistoryExample@L_type<-"TL"
LifeHistoryExample@L_units<-"cm"
LifeHistoryExample@Walpha_units<-"g"
LifeHistoryExample@K<-0.2
LifeHistoryExample@M<-0.3
LifeHistoryExample@t0<-0
LifeHistoryExample@Tmax<- floor(-log(0.01)/0.3)
LifeHistoryExample@Steep<-0.99
LifeHistoryExample@R0<-1000
LifeHistoryExample@recSD<-0.6
LifeHistoryExample@recRho<-0
LifeHistoryExample@isHermaph<-FALSE
lbsprSimExample<-lbsprSimWrapper(LifeHistoryExample)
usethis::use_data(LifeHistoryExample, overwrite = TRUE)
usethis::use_data(lbsprSimExample, overwrite = TRUE)
devtools::check()
devtools::load_all()
library(LBSPR)
LH_to_dataframe(LifeHistoryExample)
LifeHistoryExample@H50<-0.67655
LH_to_dataframe(LifeHistoryExample)
LifeHistoryExample@H95<-0.67655
LH_to_dataframe(LifeHistoryExample)
devtools::check()
LH<-fishSimGTG::LifeHistoryExample
setClass(
"LH",
contains="DESeqResults",
slots=c(new_slot="numeric")
) -> 1
setClass(
"LH",
slots=c(new_slot="numeric")
) -> 1
devtools::load_all()
library(LBSPR)
devtools::load_all()
library(LBSPR)
devtools::load_all()
library(LBSPR)
LifeHistoryExample<-new("LifeHistory")
LifeHistoryExample@Linf<-100
LifeHistoryExample@L50<-66
LifeHistoryExample@L95<-67
LifeHistoryExample@MK<-1.5
LifeHistoryExample@LW_A<-0.01
LifeHistoryExample@LW_B<-3
LifeHistoryExample@title<-"Example fish"
LifeHistoryExample@shortDescription<-"Simulated life history of a fish based on B-H invariants"
LifeHistoryExample@speciesName<-"Example fish"
LifeHistoryExample@L_type<-"TL"
LifeHistoryExample@L_units<-"cm"
LifeHistoryExample@Walpha_units<-"g"
LifeHistoryExample@K<-0.2
LifeHistoryExample@M<-0.3
LifeHistoryExample@t0<-0
LifeHistoryExample@Tmax<- floor(-log(0.01)/0.3)
LifeHistoryExample@Steep<-0.99
LifeHistoryExample@R0<-1000
LifeHistoryExample@recSD<-0.6
LifeHistoryExample@recRho<-0
LifeHistoryExample@isHermaph<-FALSE
lbsprSimExample<-lbsprSimWrapper(LifeHistoryExample)
usethis::use_data(LifeHistoryExample, overwrite = TRUE)
usethis::use_data(lbsprSimExample, overwrite = TRUE)
devtools::check()
LifeHistoryObj<-fishSimGTG::LifeHistoryExample
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind]))
fishSimGTG::LifeHistoryExample
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))
library(tidyverse)
LifeHistoryObj<-fishSimGTG::LifeHistoryExample
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))
digits<-3
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))
slotNames(LifeHistoryObj)
lapply(nms, function(nm) slot(LifeHistoryObj, nm))
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind]))
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename_with(
~ case_when(
. == "title" ~ "Title",
. == "speciesName" ~ "Species",
. == "shortDescription" ~ "Short description",
. == "L_type" ~ "Length type",
. == "L_units" ~ "Length units",
. == "Walpha_units" ~ "Weight units",
. == "Linf" ~ "von Bertalanffy Loo",
. == "K" ~ "von Bertalanffy K",
. == "t0" ~ "von Bertalanffy t0",
. == "L50" ~ "Length at 50% maturity",
. == "L95" ~ "Length at 95% maturity",
. == "M" ~ "Natural mortality",
. == "MK" ~ "M/K",
. == "LW_A" ~ "Length-weight alpha",
. == "LW_B" ~ "Length-weight beta",
. == "Tmax" ~ "Maximum age",
. == "Steep" ~ "Beverton-Holt steepness",
. == "author" ~ "Author",
. == "authAffiliation" ~ "Author affiliation",
. == "longDescription" ~ "Long description",
TRUE ~ .
)
) %>%
gather()
LifeHistoryObj@appBuild<-iris
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind]))
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))
data.frame(setNames(lst[ind], nms[ind]))
which(lengths(lst)!=0)
lst[ind]
nms[ind]
data.frame(setNames(lst[ind], nms[ind]))
lst[ind]
LifeHistoryObj <- LifeHistoryObj %>%
select(-appBuild)
library(tidyverse)
LifeHistoryObj %>%
select(-appBuild)
slot(LifeHistoryObj, 'appBuild', check=FALSE) <- NULL
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
ind
data.frame(setNames(lst[ind], nms[ind]))
devtools::check()
120/13
34185+9000+58835+22000+8195
devtools::load_all()
library(LBSPR)
LifeHistoryExample<-new("LifeHistory")
LifeHistoryExample@Linf<-100
LifeHistoryExample@L50<-66
LifeHistoryExample@L95<-67
LifeHistoryExample@MK<-1.5
LifeHistoryExample@LW_A<-0.01
LifeHistoryExample@LW_B<-3
LifeHistoryExample@title<-"Example fish"
LifeHistoryExample@shortDescription<-"Simulated life history of a fish based on B-H invariants"
LifeHistoryExample@speciesName<-"Example fish"
LifeHistoryExample@L_type<-"TL"
LifeHistoryExample@L_units<-"cm"
LifeHistoryExample@Walpha_units<-"g"
LifeHistoryExample@K<-0.2
LifeHistoryExample@M<-0.3
LifeHistoryExample@t0<-0
LifeHistoryExample@Tmax<- floor(-log(0.01)/0.3)
LifeHistoryExample@Steep<-0.99
LifeHistoryExample@R0<-1000
LifeHistoryExample@recSD<-0.6
LifeHistoryExample@recRho<-0
LifeHistoryExample@isHermaph<-FALSE
lbsprSimExample<-lbsprSimWrapper(LifeHistoryExample)
usethis::use_data(LifeHistoryExample, overwrite = TRUE)
usethis::use_data(lbsprSimExample, overwrite = TRUE)
devtools::check()
devtools::load_all()
library(LBSPR)
LifeHistoryExample<-new("LifeHistory")
LifeHistoryExample@Linf<-100
LifeHistoryExample@L50<-66
LifeHistoryExample@L95<-67
LifeHistoryExample@MK<-1.5
LifeHistoryExample@LW_A<-0.01
LifeHistoryExample@LW_B<-3
LifeHistoryExample@title<-"Example fish"
LifeHistoryExample@shortDescription<-"Simulated life history of a fish based on B-H invariants"
LifeHistoryExample@speciesName<-"Example fish"
LifeHistoryExample@L_type<-"TL"
LifeHistoryExample@L_units<-"cm"
LifeHistoryExample@Walpha_units<-"g"
LifeHistoryExample@K<-0.2
LifeHistoryExample@M<-0.3
LifeHistoryExample@t0<-0
LifeHistoryExample@Tmax<- floor(-log(0.01)/0.3)
LifeHistoryExample@Steep<-0.99
LifeHistoryExample@R0<-1000
LifeHistoryExample@recSD<-0.6
LifeHistoryExample@recRho<-0
LifeHistoryExample@isHermaph<-FALSE
lbsprSimExample<-lbsprSimWrapper(LifeHistoryExample)
usethis::use_data(LifeHistoryExample, overwrite = TRUE)
usethis::use_data(lbsprSimExample, overwrite = TRUE)
devtools::load_all()
library(LBSPR)
LifeHistoryExample<-new("LifeHistory")
LifeHistoryExample@Linf<-100
LifeHistoryExample@L50<-66
LifeHistoryExample@L95<-66.1
LifeHistoryExample@MK<-1.5
LifeHistoryExample@LW_A<-0.01
LifeHistoryExample@LW_B<-3
LifeHistoryExample@title<-"Example fish"
LifeHistoryExample@shortDescription<-"Simulated life history of a fish based on B-H invariants"
LifeHistoryExample@speciesName<-"Example fish"
LifeHistoryExample@L_type<-"TL"
LifeHistoryExample@L_units<-"cm"
LifeHistoryExample@Walpha_units<-"g"
LifeHistoryExample@K<-0.2
LifeHistoryExample@M<-0.3
LifeHistoryExample@t0<-0
LifeHistoryExample@Tmax<- floor(-log(0.01)/0.3)
LifeHistoryExample@Steep<-0.99
LifeHistoryExample@R0<-1000
LifeHistoryExample@recSD<-0.6
LifeHistoryExample@recRho<-0
LifeHistoryExample@isHermaph<-FALSE
lbsprSimExample<-lbsprSimWrapper(LifeHistoryExample)
usethis::use_data(LifeHistoryExample, overwrite = TRUE)
usethis::use_data(lbsprSimExample, overwrite = TRUE)
devtools::load_all()
library(LBSPR)
LifeHistoryExample<-new("LifeHistory")
LifeHistoryExample@Linf<-100
LifeHistoryExample@L50<-66
LifeHistoryExample@L95<-67
LifeHistoryExample@MK<-1.5
LifeHistoryExample@LW_A<-0.01
LifeHistoryExample@LW_B<-3
LifeHistoryExample@title<-"Example fish"
LifeHistoryExample@shortDescription<-"Simulated life history of a fish based on B-H invariants"
LifeHistoryExample@speciesName<-"Example fish"
LifeHistoryExample@L_type<-"TL"
LifeHistoryExample@L_units<-"cm"
LifeHistoryExample@Walpha_units<-"g"
LifeHistoryExample@K<-0.2
LifeHistoryExample@M<-0.3
LifeHistoryExample@t0<-0
LifeHistoryExample@Tmax<- floor(-log(0.01)/0.3)
LifeHistoryExample@Steep<-0.99
LifeHistoryExample@R0<-1000
LifeHistoryExample@recSD<-0.6
LifeHistoryExample@recRho<-0
LifeHistoryExample@isHermaph<-FALSE
lbsprSimExample<-lbsprSimWrapper(LifeHistoryExample)
usethis::use_data(LifeHistoryExample, overwrite = TRUE)
usethis::use_data(lbsprSimExample, overwrite = TRUE)
lbsprSimWrapper
devtools::load_all()
library(LBSPR)
LifeHistoryExample<-new("LifeHistory")
LifeHistoryExample@Linf<-100
LifeHistoryExample@L50<-66
LifeHistoryExample@L95<-67
LifeHistoryExample@MK<-1.5
LifeHistoryExample@LW_A<-0.01
LifeHistoryExample@LW_B<-3
LifeHistoryExample@title<-"Example fish"
LifeHistoryExample@shortDescription<-"Simulated life history of a fish based on B-H invariants"
LifeHistoryExample@speciesName<-"Example fish"
LifeHistoryExample@L_type<-"TL"
LifeHistoryExample@L_units<-"cm"
LifeHistoryExample@Walpha_units<-"g"
LifeHistoryExample@K<-0.2
LifeHistoryExample@M<-0.3
LifeHistoryExample@t0<-0
LifeHistoryExample@Tmax<- floor(-log(0.01)/0.3)
LifeHistoryExample@Steep<-0.99
LifeHistoryExample@R0<-1000
LifeHistoryExample@recSD<-0.6
LifeHistoryExample@recRho<-0
LifeHistoryExample@isHermaph<-FALSE
lbsprSimExample<-lbsprSimWrapper(LifeHistoryExample)
lbsprSimExample@sim$F_M
lbsprSimExample@sim$stop
lbsprSimExample@sim$SPR_EU
lbsprSimExample@sim$F_M
which(lbsprSimExample@sim$F_M == 2.8)
NROW(lbsprSimExample@sim$F_M)
dim(lbsprSimExample@sim$SPR_EU)
lbsprSimExample@sim$SPR_EU[21,]
which(lbsprSimExample@sim$F_M == 2.8)
devtools::load_all()
library(LBSPR)
LifeHistoryExample<-new("LifeHistory")
LifeHistoryExample@Linf<-100
LifeHistoryExample@L50<-66
LifeHistoryExample@L95<-67
LifeHistoryExample@MK<-1.5
LifeHistoryExample@LW_A<-0.01
LifeHistoryExample@LW_B<-3
LifeHistoryExample@title<-"Example fish"
LifeHistoryExample@shortDescription<-"Simulated life history of a fish based on B-H invariants"
LifeHistoryExample@speciesName<-"Example fish"
LifeHistoryExample@L_type<-"TL"
LifeHistoryExample@L_units<-"cm"
LifeHistoryExample@Walpha_units<-"g"
LifeHistoryExample@K<-0.2
LifeHistoryExample@M<-0.3
LifeHistoryExample@t0<-0
LifeHistoryExample@Tmax<- floor(-log(0.01)/0.3)
LifeHistoryExample@Steep<-0.99
LifeHistoryExample@R0<-1000
LifeHistoryExample@recSD<-0.6
LifeHistoryExample@recRho<-0
LifeHistoryExample@isHermaph<-FALSE
lbsprSimExample<-lbsprSimWrapper(LifeHistoryExample)
usethis::use_data(LifeHistoryExample, overwrite = TRUE)
usethis::use_data(lbsprSimExample, overwrite = TRUE)
which(lbsprSimExample@sim$F_M == 2.8)
which(lbsprSimExample@sim
lbsprSimExample@sim
lbsprSimExample@sim
lbsprSimExample@sim$F_M[15]
lbsprSimExample@sim$F_M[15]*12
typeof(lbsprSimExample@sim$F_M[15])
typeof(lbsprSimExample@sim$F_M[1])
typeof(lbsprSimExample@sim$F_M)
?seq
x<-seq(1,10,1)
typeof(x)
X<-lbsprSimExample@sim$F_M
which(X == 2.8)
X<-as.numeric(lbsprSimExample@sim$F_M)
which(X == 2.8)
X<-seq(0, 4, 0.2)
which(X == 2.8)
which(X == 2.6)
which(X == 3.0)
X
X<-round(X, 2)
which(X == 2.8)
X<-seq(0, 4, 0.2)
X<-round(X, 3)
X
which(X == 2.8)
devtools::load_all()
library(LBSPR)
LifeHistoryExample<-new("LifeHistory")
LifeHistoryExample@Linf<-100
LifeHistoryExample@L50<-66
LifeHistoryExample@L95<-67
LifeHistoryExample@MK<-1.5
LifeHistoryExample@LW_A<-0.01
LifeHistoryExample@LW_B<-3
LifeHistoryExample@title<-"Example fish"
LifeHistoryExample@shortDescription<-"Simulated life history of a fish based on B-H invariants"
LifeHistoryExample@speciesName<-"Example fish"
LifeHistoryExample@L_type<-"TL"
LifeHistoryExample@L_units<-"cm"
LifeHistoryExample@Walpha_units<-"g"
LifeHistoryExample@K<-0.2
LifeHistoryExample@M<-0.3
LifeHistoryExample@t0<-0
LifeHistoryExample@Tmax<- floor(-log(0.01)/0.3)
LifeHistoryExample@Steep<-0.99
LifeHistoryExample@R0<-1000
LifeHistoryExample@recSD<-0.6
LifeHistoryExample@recRho<-0
LifeHistoryExample@isHermaph<-FALSE
lbsprSimExample<-lbsprSimWrapper(LifeHistoryExample)
usethis::use_data(LifeHistoryExample, overwrite = TRUE)
usethis::use_data(lbsprSimExample, overwrite = TRUE)
