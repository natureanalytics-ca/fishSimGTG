mutate(across(any_of(c("key")), str_replace, "L_units", "Length units")) %>%
mutate(across(any_of(c("key")), str_replace, "Walpha_units", "Weight units")) %>%
mutate(across(any_of(c("key")), str_replace, "Linf", "von Bertalanffy Loo")) %>%
mutate(across(any_of(c("key")), str_replace, "K", "von Bertalanffy K")) %>%
mutate(across(any_of(c("key")), str_replace, "t0", "von Bertalanffy t0")) %>%
mutate(across(any_of(c("key")), str_replace, "L50", "Length at 50% maturity")) %>%
mutate(across(any_of(c("key")), str_replace, "L95", "Length at 95% maturity")) %>%
mutate(across(any_of(c("key")), str_replace, "M", "Natural mortality")) %>%
mutate(across(any_of(c("key")), str_replace, "MK", "M/K")) %>%
mutate(across(any_of(c("key")), str_replace, "LW_A", "Length-weight alpha")) %>%
mutate(across(any_of(c("key")), str_replace, "LW_B", "Length-weight beta")) %>%
mutate(across(any_of(c("key")), str_replace, "Tmax", "Maximum age")) %>%
mutate(across(any_of(c("key")), str_replace, "Steep", "Beverton-Holt steepness")) %>%
mutate(across(any_of(c("key")),str_replace, "author", "Author")) %>%
mutate(across(any_of(c("key")), str_replace, "authAffiliation", "Author affiliation"))
X %>%
filter(across(any_of(c("key")), key != c("Title", "Short description", "Long description", "Author", "Author affiliation")))
X %>%
filter(across(any_of(c("key"))), key != c("Title", "Short description", "Long description", "Author", "Author affiliation"))
X %>%
filter(across(any_of(c("key")), key != c("Title", "Short description", "Long description", "Author", "Author affiliation"))
X %>%
filter(across(any_of("key"), ~.x != c("Title", "Short description", "Long description", "Author", "Author affiliation")))
X %>%
filter(across(any_of("key"), ~.x != c("Title", "Short description", "Long description", "Author", "Author affiliation")))
X %>%
filter(across(any_of("key"), ~.x != "Title"))
X %>%
filter(across(any_of("key"), ~.x != "Title")) %>%
filter(across(any_of("key"), ~.x != "Short description")) %>%
filter(across(any_of("key"), ~.x != "Long description")) %>%
filter(across(any_of("key"), ~.x != "Author")) %>%
filter(across(any_of("key"), ~.x != "Author affiliation"))
devtools::load_all()
rm(list = c("LH_to_dataframe"))
devtools::load_all()
LifeHistoryObj<-new('LifeHistory')
LifeHistoryObj@LW_A<-0.0000001232312
LifeHistoryObj@longDescription<-c("1","2", "3")
LifeHistoryObj
LifeHistoryObj@longDescription<-"1"
LifeHistoryObj
devtools::load_all()
library(LBSPR)
LifeHistoryExample<-new("LifeHistory")
LifeHistoryExample@Linf<-100
LifeHistoryExample@L50<-66
LifeHistoryExample@L95<-67
LifeHistoryExample@MK<-1.5
LifeHistoryExample@LW_A<-0.01
LifeHistoryExample@LW_B<-3
LifeHistoryExample@title<-"Example fish"
LifeHistoryExample@shortDescription<-"Simulated life history of a fish based on B-H invariants"
LifeHistoryExample@speciesName<-"Example fish"
LifeHistoryExample@L_type<-"TL"
LifeHistoryExample@L_units<-"cm"
LifeHistoryExample@Walpha_units<-"g"
LifeHistoryExample@K<-0.2
LifeHistoryExample@M<-0.3
LifeHistoryExample@t0<-0
LifeHistoryExample@Tmax<- floor(-log(0.01)/0.3)
LifeHistoryExample@Steep<-0.99
lbsprSimExample<-lbsprSimWrapper(LifeHistoryExample)
usethis::use_data(LifeHistoryExample, overwrite = TRUE)
usethis::use_data(lbsprSimExample, overwrite = TRUE)
devtools::check()
LifeHistoryObj<-new('LifeHistory')
LifeHistoryObj@LW_A<-0.0000001232312
LifeHistoryObj@longDescription<-c("1","2","3")
LifeHistoryObj<-LifeHistoryExample
digits<-3
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))
LifeHistoryObj<-new('LifeHistory')
LifeHistoryObj@LW_A<-0.0000001232312
LifeHistoryObj@longDescription<-c("1","2","3")
digits<-3
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind]))
LifeHistoryObj
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind]))
LifeHistoryObj<-new('LifeHistory')
LifeHistoryObj@LW_A<-0.0000001232312
LifeHistoryObj@longDescription<-c("1","2","3")
digits<-3
devtools::load_all()
LifeHistoryObj<-new('LifeHistory')
LifeHistoryObj@LW_A<-0.0000001232312
LifeHistoryObj@longDescription<-c("1","2","3")
digits<-3
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))
library(tidyverse)
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))
LifeHistoryObj<-new('LifeHistory')
LifeHistoryObj@LW_A<-0.0000001232312
LifeHistoryObj@longDescription<-"1"
digits<-3
devtools::load_all()
library(tidyverse)
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename( "Title" = "title")
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
mutate(across(any_of(c("title")), rename, "Title" = "title"))
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
mutate(across(any_of(c("longDescription")), rename, "Long description" = "longDescription"))
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename(across(matches("longDescription"), ~ { "Long description"}))
?rename_with
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename_with( ~"longDescription", "Long description")
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename_with( ~"Long description", "longDescription")
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename_with( ~"Long description", "longDescription") %>%
rename_with( ~"Title", "title")
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename_with( ~"Long description", "longDescription") %>%
rename_with(across(matches("title"), ~"Title", "title")
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename_with( ~"Long description", "longDescription") %>%
rename_with(across(matches("title"), ~"Title", "title"))
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename_with( ~"Long description", "longDescription") %>%
mutate(across(matches("title"), rename, "Title"="title"))
LifeHistoryObj<-new('LifeHistory')
LifeHistoryObj@LW_A<-0.0000001232312
LifeHistoryObj@longDescription<-"1"
digits<-3
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
mutate(across(matches("title"), rename, "Title"="title")) %>%
mutate(across(matches("speciesName"), rename, "Species" = "speciesName")) %>%
mutate(across(matches("shortDescription"), rename, "Short description" = "shortDescription")) %>%
mutate(across(matches("L_type"), rename, "Length type" = "L_type")) %>%
mutate(across(matches("L_units"), rename, "Length units" = "L_units")) %>%
mutate(across(matches("Walpha_units"), rename, "Weight units" = "Walpha_units")) %>%
mutate(across(matches("Linf"), rename, "von Bertalanffy Loo" = "Linf")) %>%
mutate(across(matches("K"), rename, "von Bertalanffy K" ="K")) %>%
mutate(across(matches("t0"), rename, "von Bertalanffy t0" = "t0")) %>%
mutate(across(matches("L50"), rename, "Length at 50% maturity" = "L50")) %>%
mutate(across(matches("L95"), rename, "Length at 95% maturity" = "L95")) %>%
mutate(across(matches("M"), rename, "Natural mortality" = "M")) %>%
mutate(across(matches("MK"), rename, "M/K" = "MK")) %>%
mutate(across(matches("LW_A"), rename, "Length-weight alpha" = "LW_A")) %>%
mutate(across(matches("LW_B"), rename, "Length-weight beta" = "LW_B")) %>%
mutate(across(matches("Tmax"), rename, "Maximum age" = "Tmax")) %>%
mutate(across(matches("Steep"), rename, "Beverton-Holt steepness" = "Steep")) %>%
mutate(across(matches("author"), rename,  "Author" = "author")) %>%
mutate(across(matches("authAffiliation"), rename, "Author affiliation" = "authAffiliation"))
mutate(across(matches("longDescription"), rename, "Long description" = "longDescription"))
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
mutate(across(matches("title"), rename, "Title"="title")) %>%
mutate(across(matches("speciesName"), rename, "Species" = "speciesName")) %>%
mutate(across(matches("shortDescription"), rename, "Short description" = "shortDescription")) %>%
mutate(across(matches("L_type"), rename, "Length type" = "L_type")) %>%
mutate(across(matches("L_units"), rename, "Length units" = "L_units")) %>%
mutate(across(matches("Walpha_units"), rename, "Weight units" = "Walpha_units")) %>%
mutate(across(matches("Linf"), rename, "von Bertalanffy Loo" = "Linf")) %>%
mutate(across(matches("K"), rename, "von Bertalanffy K" ="K")) %>%
mutate(across(matches("t0"), rename, "von Bertalanffy t0" = "t0")) %>%
mutate(across(matches("L50"), rename, "Length at 50% maturity" = "L50")) %>%
mutate(across(matches("L95"), rename, "Length at 95% maturity" = "L95")) %>%
mutate(across(matches("M"), rename, "Natural mortality" = "M")) %>%
mutate(across(matches("MK"), rename, "M/K" = "MK"))
LifeHistoryObj<-LifeHistoryExample
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
mutate(across(matches("title"), rename, "Title"="title")) %>%
mutate(across(matches("speciesName"), rename, "Species" = "speciesName")) %>%
mutate(across(matches("shortDescription"), rename, "Short description" = "shortDescription")) %>%
mutate(across(matches("L_type"), rename, "Length type" = "L_type")) %>%
mutate(across(matches("L_units"), rename, "Length units" = "L_units")) %>%
mutate(across(matches("Walpha_units"), rename, "Weight units" = "Walpha_units")) %>%
mutate(across(matches("Linf"), rename, "von Bertalanffy Loo" = "Linf")) %>%
mutate(across(matches("K"), rename, "von Bertalanffy K" ="K")) %>%
mutate(across(matches("t0"), rename, "von Bertalanffy t0" = "t0")) %>%
mutate(across(matches("L50"), rename, "Length at 50% maturity" = "L50")) %>%
mutate(across(matches("L95"), rename, "Length at 95% maturity" = "L95")) %>%
mutate(across(matches("M"), rename, "Natural mortality" = "M")) %>%
mutate(across(matches("MK"), rename, "M/K" = "MK"))
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
mutate(across(matches("title"), rename, "Title"="title"))
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
mutate(across(matches("title"), rename, "Title"="title"))
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename("Title"="title")
LifeHistoryObj<-new('LifeHistory')
LifeHistoryObj@LW_A<-0.0000001232312
LifeHistoryObj@longDescription<-"1"
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename("Title"="title")
ind
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
#rename("Title"="title")
mutate(across(matches("title"), rename, "Title"="title"))
LifeHistoryObj<-LifeHistoryExample
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
#rename("Title"="title")
mutate(across(matches("title"), rename, "Title"="title"))
iris %>%
rename_with(
~ case_when(
. == "Petal.Width" ~ "NewPetalWidthName",
. == "NotActuallyThere" ~ "DoNothing",
TRUE ~ .
)
) %>%
head()
LifeHistoryObj<-LifeHistoryExample
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename_with(
~ case_when(
. == "title" ~ "Title",
. == "NotActuallyThere" ~ "DoNothing",
TRUE ~ .
)
)
LifeHistoryObj<-new('LifeHistory')
LifeHistoryObj@LW_A<-0.0000001232312
LifeHistoryObj@longDescription<-"1"
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename_with(
~ case_when(
. == "title" ~ "Title",
. == "NotActuallyThere" ~ "DoNothing",
TRUE ~ .
)
)
LifeHistoryObj<-LifeHistoryExample
LifeHistoryObj
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename_with(
~ case_when(
. == "title" ~ "Title",
. == "speciesName" ~ "Species",
. == "M" ~ "Natural mortality",
TRUE ~ .
)
)
LifeHistoryObj<-LifeHistoryExample
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename_with(
~ case_when(
. == "title" ~ "Title",
. == "speciesName" ~ "Species",
. == "shortDescription" ~ "Short description",
. == "L_type" ~ "Length type",
. == "L_units" ~ "Length units",
. == "Walpha_units" ~ "Weight units",
. == "Linf" ~ "von Bertalanffy Loo",
. == "K" ~ "von Bertalanffy K",
. == "t0" ~ "von Bertalanffy t0",
. == "L50" ~ "Length at 50% maturity",
. == "L95" ~ "Length at 95% maturity",
. == "M" ~ "Natural mortality",
. == "MK" ~ "M/K",
. == "LW_A" ~ "Length-weight alpha",
. == "LW_B" ~ "Length-weight beta"
. == "Tmax" ~ "Maximum age",
. == "Steep" ~ "Beverton-Holt steepness",
. == "author" ~ "Author",
. == "authAffiliation" ~ "Author affiliation",
. == "longDescription" ~ "Long description",
TRUE ~ .
)
)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename_with(
~ case_when(
. == "title" ~ "Title",
. == "speciesName" ~ "Species",
. == "shortDescription" ~ "Short description",
. == "L_type" ~ "Length type",
. == "L_units" ~ "Length units",
. == "Walpha_units" ~ "Weight units",
. == "Linf" ~ "von Bertalanffy Loo",
. == "K" ~ "von Bertalanffy K",
. == "t0" ~ "von Bertalanffy t0",
. == "L50" ~ "Length at 50% maturity",
. == "L95" ~ "Length at 95% maturity",
. == "M" ~ "Natural mortality",
. == "MK" ~ "M/K",
. == "LW_A" ~ "Length-weight alpha",
. == "LW_B" ~ "Length-weight beta",
. == "Tmax" ~ "Maximum age",
. == "Steep" ~ "Beverton-Holt steepness",
. == "author" ~ "Author",
. == "authAffiliation" ~ "Author affiliation",
. == "longDescription" ~ "Long description",
TRUE ~ .
)
)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename_with(
~ case_when(
. == "title" ~ "Title",
. == "speciesName" ~ "Species",
. == "shortDescription" ~ "Short description",
. == "L_type" ~ "Length type",
. == "L_units" ~ "Length units",
. == "Walpha_units" ~ "Weight units",
. == "Linf" ~ "von Bertalanffy Loo",
. == "K" ~ "von Bertalanffy K",
. == "t0" ~ "von Bertalanffy t0",
. == "L50" ~ "Length at 50% maturity",
. == "L95" ~ "Length at 95% maturity",
. == "M" ~ "Natural mortality",
. == "MK" ~ "M/K",
. == "LW_A" ~ "Length-weight alpha",
. == "LW_B" ~ "Length-weight beta",
. == "Tmax" ~ "Maximum age",
. == "Steep" ~ "Beverton-Holt steepness",
. == "author" ~ "Author",
. == "authAffiliation" ~ "Author affiliation",
. == "longDescription" ~ "Long description",
TRUE ~ .
)
) %>%
gather()
LifeHistoryObj<-new('LifeHistory')
LifeHistoryObj@LW_A<-0.0000001232312
LifeHistoryObj@longDescription<-"1"
digits<-3
nms <- slotNames(LifeHistoryObj)
lst <- lapply(nms, function(nm) slot(LifeHistoryObj, nm))
ind<-which(lengths(lst)!=0)
data.frame(setNames(lst[ind], nms[ind])) %>%
mutate(across(any_of(c("Linf", "K", "t0", "L50", "L95", "M", "MK", "LW_B", "Steep")), round, digits))  %>%
mutate(across(any_of(c("Tmax")), round, 1))  %>%
mutate(across(any_of(c("LW_A")), signif, digits))  %>%
rename_with(
~ case_when(
. == "title" ~ "Title",
. == "speciesName" ~ "Species",
. == "shortDescription" ~ "Short description",
. == "L_type" ~ "Length type",
. == "L_units" ~ "Length units",
. == "Walpha_units" ~ "Weight units",
. == "Linf" ~ "von Bertalanffy Loo",
. == "K" ~ "von Bertalanffy K",
. == "t0" ~ "von Bertalanffy t0",
. == "L50" ~ "Length at 50% maturity",
. == "L95" ~ "Length at 95% maturity",
. == "M" ~ "Natural mortality",
. == "MK" ~ "M/K",
. == "LW_A" ~ "Length-weight alpha",
. == "LW_B" ~ "Length-weight beta",
. == "Tmax" ~ "Maximum age",
. == "Steep" ~ "Beverton-Holt steepness",
. == "author" ~ "Author",
. == "authAffiliation" ~ "Author affiliation",
. == "longDescription" ~ "Long description",
TRUE ~ .
)
) %>%
gather()
devtools::check()
