<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 How to Populate the Operating Model (OM) | FishSimGTG: Population dynamics simulation framework</title>
  <meta name="description" content="This document includes the description of FishSimGTG" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="2 How to Populate the Operating Model (OM) | FishSimGTG: Population dynamics simulation framework" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This document includes the description of FishSimGTG" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 How to Populate the Operating Model (OM) | FishSimGTG: Population dynamics simulation framework" />
  
  <meta name="twitter:description" content="This document includes the description of FishSimGTG" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="om.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">This document includes the description of FishSimGTG</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> What is FishSimGTG?</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#installation-and-required-packages"><i class="fa fa-check"></i><b>1.1</b> Installation and required packages</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#how-to-use-fishsimgtg"><i class="fa fa-check"></i><b>1.2</b> How to use FishSimGTG?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="om-pop.html"><a href="om-pop.html"><i class="fa fa-check"></i><b>2</b> How to Populate the Operating Model (OM)</a>
<ul>
<li class="chapter" data-level="2.1" data-path="om-pop.html"><a href="om-pop.html#life-history-object"><i class="fa fa-check"></i><b>2.1</b> Life history object</a></li>
<li class="chapter" data-level="2.2" data-path="om-pop.html"><a href="om-pop.html#fishery-object"><i class="fa fa-check"></i><b>2.2</b> Fishery object</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="om-pop.html"><a href="om-pop.html#selectivity-or-vulnerability"><i class="fa fa-check"></i><b>2.2.1</b> Selectivity or vulnerability</a></li>
<li class="chapter" data-level="2.2.2" data-path="om-pop.html"><a href="om-pop.html#retention"><i class="fa fa-check"></i><b>2.2.2</b> Retention</a></li>
<li class="chapter" data-level="2.2.3" data-path="om-pop.html"><a href="om-pop.html#discard-mortality-rate"><i class="fa fa-check"></i><b>2.2.3</b> Discard mortality rate</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="om-pop.html"><a href="om-pop.html#time-area-object"><i class="fa fa-check"></i><b>2.3</b> Time area object</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="om-pop.html"><a href="om-pop.html#lh-sel"><i class="fa fa-check"></i><b>2.3.1</b> Exploring the Parameterization of the Operating Model So Far</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="om-pop.html"><a href="om-pop.html#stochastic-object"><i class="fa fa-check"></i><b>2.4</b> Stochastic object</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="om-pop.html"><a href="om-pop.html#adding-stochasticity-to-the-lifehistoryobj-object"><i class="fa fa-check"></i><b>2.4.1</b> Adding stochasticity to the <code>LifeHistoryObj</code> object</a></li>
<li class="chapter" data-level="2.4.2" data-path="om-pop.html"><a href="om-pop.html#adding-stochasticity-to-the-histfisheryobj-object"><i class="fa fa-check"></i><b>2.4.2</b> Adding stochasticity to the <code>HistFisheryObj</code> object</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="om-pop.html"><a href="om-pop.html#fishery-projections"><i class="fa fa-check"></i><b>2.5</b> Fishery projections</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="om-pop.html"><a href="om-pop.html#adding-stochasticity-to-the-fishery-projections"><i class="fa fa-check"></i><b>2.5.1</b> Adding stochasticity to the fishery projections</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="om-pop.html"><a href="om-pop.html#the-management-strategy"><i class="fa fa-check"></i><b>2.6</b> The management strategy</a></li>
<li class="chapter" data-level="2.7" data-path="om-pop.html"><a href="om-pop.html#running-the-projection-and-management-strategy-simulation"><i class="fa fa-check"></i><b>2.7</b> Running the projection and management strategy simulation</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="om.html"><a href="om.html"><i class="fa fa-check"></i><b>3</b> Mathematical description of the Operating model (OM)</a>
<ul>
<li class="chapter" data-level="3.1" data-path="om.html"><a href="om.html#population-dynamics"><i class="fa fa-check"></i><b>3.1</b> Population dynamics</a></li>
<li class="chapter" data-level="3.2" data-path="om.html"><a href="om.html#life-history"><i class="fa fa-check"></i><b>3.2</b> Life history</a></li>
<li class="chapter" data-level="3.3" data-path="om.html"><a href="om.html#initial-conditions"><i class="fa fa-check"></i><b>3.3</b> Initial conditions</a></li>
<li class="chapter" data-level="3.4" data-path="om.html"><a href="om.html#fishery-dynamics"><i class="fa fa-check"></i><b>3.4</b> Fishery dynamics</a></li>
<li class="chapter" data-level="3.5" data-path="om.html"><a href="om.html#observation-and-monitoring"><i class="fa fa-check"></i><b>3.5</b> Observation and monitoring</a></li>
<li class="chapter" data-level="3.6" data-path="om.html"><a href="om.html#growth-type-group"><i class="fa fa-check"></i><b>3.6</b> Growth-type group</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="customized-management-procedures-mps.html"><a href="customized-management-procedures-mps.html"><i class="fa fa-check"></i><b>4</b> Customized Management Procedures (MPs)</a>
<ul>
<li class="chapter" data-level="4.1" data-path="customized-management-procedures-mps.html"><a href="customized-management-procedures-mps.html#mp-1"><i class="fa fa-check"></i><b>4.1</b> MP 1</a></li>
<li class="chapter" data-level="4.2" data-path="customized-management-procedures-mps.html"><a href="customized-management-procedures-mps.html#mp-2"><i class="fa fa-check"></i><b>4.2</b> MP 2</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="the-closed-loop-simulation.html"><a href="the-closed-loop-simulation.html"><i class="fa fa-check"></i><b>5</b> The Closed Loop Simulation</a></li>
<li class="chapter" data-level="6" data-path="exploring-the-simulation-outputs.html"><a href="exploring-the-simulation-outputs.html"><i class="fa fa-check"></i><b>6</b> Exploring the Simulation Outputs</a></li>
<li class="chapter" data-level="7" data-path="examples.html"><a href="examples.html"><i class="fa fa-check"></i><b>7</b> Examples</a>
<ul>
<li class="chapter" data-level="7.1" data-path="examples.html"><a href="examples.html#honeycomb-grouper-example"><i class="fa fa-check"></i><b>7.1</b> Honeycomb grouper example</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="examples.html"><a href="examples.html#populationg-the-life-history"><i class="fa fa-check"></i><b>7.1.1</b> Populationg the life history</a></li>
<li class="chapter" data-level="7.1.2" data-path="examples.html"><a href="examples.html#populating-the-fishery-history"><i class="fa fa-check"></i><b>7.1.2</b> Populating the fishery history</a></li>
<li class="chapter" data-level="7.1.3" data-path="examples.html"><a href="examples.html#populating-the-time-and-area-parameters"><i class="fa fa-check"></i><b>7.1.3</b> Populating the time and area parameters</a></li>
<li class="chapter" data-level="7.1.4" data-path="examples.html"><a href="examples.html#exploring-the-paramaterization-of-the-om-so-far"><i class="fa fa-check"></i><b>7.1.4</b> Exploring the paramaterization of the OM so far</a></li>
<li class="chapter" data-level="7.1.5" data-path="examples.html"><a href="examples.html#including-stochasticity"><i class="fa fa-check"></i><b>7.1.5</b> Including stochasticity</a></li>
<li class="chapter" data-level="7.1.6" data-path="examples.html"><a href="examples.html#fishery-projections-1"><i class="fa fa-check"></i><b>7.1.6</b> Fishery projections</a></li>
<li class="chapter" data-level="7.1.7" data-path="examples.html"><a href="examples.html#the-management-strategy-1"><i class="fa fa-check"></i><b>7.1.7</b> The management strategy</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">FishSimGTG: Population dynamics simulation framework</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="om-pop" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">2</span> How to Populate the Operating Model (OM)<a href="om-pop.html#om-pop" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>The OM is comprised of six S4 objects:</p>
<ul>
<li>Life history object (<code>LifeHistoryObj</code>)</li>
<li>Fishery object (<code>HistFisheryObj</code>)</li>
<li>Time-area object (<code>TimeAreaObj</code>)</li>
<li>Stochastic object (<code>StochasticObj</code>)</li>
<li>Projection object (<code>ProFisheryObj</code>)</li>
<li>Strategy object (<code>StrategyObj</code>)</li>
</ul>
<p>Each of these S4 objects contains a specific number of slots, which can be accessed using the <code>slotNames()</code> function. These slots are populated within R. The first step, before populating the slots of each object, is to create a new object using the <code>new()</code> function.</p>
<div id="life-history-object" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Life history object<a href="om-pop.html#life-history-object" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>LifeHistoryObj</code> is an S4 object of the class <code>LifeHistory</code> that holds the description of a life history.
To create a new object of class <code>LifeHistory</code>, use the <code>new()</code> function, as follows:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="om-pop.html#cb3-1" tabindex="-1"></a>LifeHistoryObj <span class="ot">&lt;-</span> <span class="fu">new</span>(<span class="st">&quot;LifeHistory&quot;</span>)</span></code></pre></div>
<p>The user can see the elements or slots of the <code>LifeHistoryObject</code> using the <code>slotNames()</code> function.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="om-pop.html#cb4-1" tabindex="-1"></a><span class="fu">slotNames</span>(LifeHistoryObj)</span></code></pre></div>
<pre><code>##  [1] &quot;title&quot;            &quot;speciesName&quot;      &quot;shortDescription&quot; &quot;L_type&quot;          
##  [5] &quot;L_units&quot;          &quot;Walpha_units&quot;     &quot;Linf&quot;             &quot;K&quot;               
##  [9] &quot;t0&quot;               &quot;L50&quot;              &quot;L95delta&quot;         &quot;M&quot;               
## [13] &quot;MK&quot;               &quot;LW_A&quot;             &quot;LW_B&quot;             &quot;Tmax&quot;            
## [17] &quot;Steep&quot;            &quot;R0&quot;               &quot;recSD&quot;            &quot;recRho&quot;          
## [21] &quot;isHermaph&quot;        &quot;H50&quot;              &quot;H95delta&quot;</code></pre>
<p>The user can access the help file for classes by using <code>?</code> symbol</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="om-pop.html#cb6-1" tabindex="-1"></a>?<span class="st">`</span><span class="at">LifeHistory-class</span><span class="st">`</span>  </span></code></pre></div>
<p>In the help file, the user will find a description of the <code>LifeHistoryObject</code> and the elements or slots it contains. To populate the rest of the slots of the <code>LifeHistoryObject</code>, the user should start by defining a useful title (<code>title</code>), followed by the scientific name of the species (<code>speciesName</code>). If desired, the user can add a short description (<code>shortDescription</code>) of the object.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="om-pop.html#cb7-1" tabindex="-1"></a>LifeHistoryObj<span class="sc">@</span>title<span class="ot">&lt;-</span><span class="st">&quot;Kole&quot;</span></span>
<span id="cb7-2"><a href="om-pop.html#cb7-2" tabindex="-1"></a>LifeHistoryObj<span class="sc">@</span>speciesName<span class="ot">&lt;-</span><span class="st">&quot;Ctenochaetus strigosus&quot;</span></span>
<span id="cb7-3"><a href="om-pop.html#cb7-3" tabindex="-1"></a>LifeHistoryObj<span class="sc">@</span>shortDescription<span class="ot">&lt;-</span><span class="st">&quot;stock name/location&quot;</span></span></code></pre></div>
<p>Then, the user can proceed to populate the rest of the slots as follows:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="om-pop.html#cb8-1" tabindex="-1"></a>LifeHistoryObj<span class="sc">@</span>Linf<span class="ot">&lt;-</span><span class="fl">17.7</span></span>
<span id="cb8-2"><a href="om-pop.html#cb8-2" tabindex="-1"></a>LifeHistoryObj<span class="sc">@</span>K<span class="ot">&lt;-</span><span class="fl">0.423</span></span>
<span id="cb8-3"><a href="om-pop.html#cb8-3" tabindex="-1"></a>LifeHistoryObj<span class="sc">@</span>t0<span class="ot">&lt;-</span> <span class="sc">-</span><span class="fl">0.51</span></span>
<span id="cb8-4"><a href="om-pop.html#cb8-4" tabindex="-1"></a>LifeHistoryObj<span class="sc">@</span>L50<span class="ot">&lt;-</span><span class="fl">8.4</span></span>
<span id="cb8-5"><a href="om-pop.html#cb8-5" tabindex="-1"></a>LifeHistoryObj<span class="sc">@</span>L95delta<span class="ot">&lt;-</span><span class="fl">1.26</span></span>
<span id="cb8-6"><a href="om-pop.html#cb8-6" tabindex="-1"></a>LifeHistoryObj<span class="sc">@</span>M<span class="ot">&lt;-</span><span class="fl">0.08</span></span>
<span id="cb8-7"><a href="om-pop.html#cb8-7" tabindex="-1"></a>LifeHistoryObj<span class="sc">@</span>L_type<span class="ot">&lt;-</span><span class="st">&quot;FL&quot;</span></span>
<span id="cb8-8"><a href="om-pop.html#cb8-8" tabindex="-1"></a>LifeHistoryObj<span class="sc">@</span>L_units<span class="ot">&lt;-</span><span class="st">&quot;cm&quot;</span></span>
<span id="cb8-9"><a href="om-pop.html#cb8-9" tabindex="-1"></a>LifeHistoryObj<span class="sc">@</span>LW_A<span class="ot">&lt;-</span><span class="fl">0.046</span></span>
<span id="cb8-10"><a href="om-pop.html#cb8-10" tabindex="-1"></a>LifeHistoryObj<span class="sc">@</span>LW_B<span class="ot">&lt;-</span><span class="fl">2.85</span></span>
<span id="cb8-11"><a href="om-pop.html#cb8-11" tabindex="-1"></a>LifeHistoryObj<span class="sc">@</span>Steep<span class="ot">&lt;-</span><span class="fl">0.54</span></span>
<span id="cb8-12"><a href="om-pop.html#cb8-12" tabindex="-1"></a>LifeHistoryObj<span class="sc">@</span>recSD<span class="ot">&lt;-</span><span class="dv">0</span></span>
<span id="cb8-13"><a href="om-pop.html#cb8-13" tabindex="-1"></a>LifeHistoryObj<span class="sc">@</span>recRho<span class="ot">&lt;-</span><span class="dv">0</span></span>
<span id="cb8-14"><a href="om-pop.html#cb8-14" tabindex="-1"></a>LifeHistoryObj<span class="sc">@</span>isHermaph<span class="ot">&lt;-</span><span class="cn">FALSE</span></span>
<span id="cb8-15"><a href="om-pop.html#cb8-15" tabindex="-1"></a>LifeHistoryObj<span class="sc">@</span>R0<span class="ot">&lt;-</span><span class="dv">10000</span></span></code></pre></div>
<p>Growth is modeled in the <strong>FishSimGTG</strong> package using a von Bertalanffy growth curve, where <code>Linf</code> represents the asymptotic average length, <code>K</code> the Brody growth rate coefficient (with units in yr<span class="math inline">\(^{-1}\)</span>), and <code>t0</code> represents the time or age when the average length was zero.</p>
<p>Maturity parameters are represented by the <code>L50</code> and <code>L95delta</code> parameters, assuming that maturity is size-dependent and follows a logistic model. The <code>L50</code> is the length at 50% maturity, and the <code>L95delta</code> is the length increment between L50 and the length at 95% maturity. <code>L95delta</code> must be a value larger than 0.</p>
<p><code>M</code>, represent the natural mortality rate per year.</p>
<p><code>L_type</code> represents the method of measuring length. e.g. <code>"TL"</code> for total length or <code>"FL"</code> for fork length. Must be consistent for all length parameters (e.g., <code>Linf</code>, <code>L50</code>, <code>L95delta</code>). <code>L_units</code>, are the units of measure (<code>"cm"</code> is expected). <code>L_units</code> must be consistent for all length parameters (e.g., <code>Linf</code>, <code>L50</code>, <code>L95delta</code>).</p>
<p><code>LW_A</code> and <code>LW_B</code> are the parameters of the allometric length-weight relationship. <code>Walpha_units</code> (<strong>help file-W_units</strong>)represents the measurement units of weight and must be consistent with the <code>LW_A</code> and <code>LW_B</code> parameters.</p>
<p>Recruitment is modeled using a Beverton-Holt stock-recruitment relationship, parameterized in terms of steepness (<code>Steep</code>). Values for <code>Steep</code> range between 0.2 to 1. <code>R0</code> represents the initial number of unfished recruits (positive number). Recruitment process error is generated from a normal distribution with mean zero and standard deviation represented by <code>recSD</code>. Autocorrelation in recruitment deviations in log space are defined by <code>recRho</code>, producing 1-year lagged correlation. <code>recSD</code> and <code>recRho</code>, are non-negative real numbers.</p>
<p>The <strong>FishSimGTG</strong> package allows for modeling the population dynamics of gonochoristic and protogynous hermaphrodite species. The user will set <code>isHermaph</code> to <code>TRUE</code> when the species is a protogynous hermaphrodite and to <code>FALSE</code> when it is a gonochoristic species. If the species is a protogynous hermaphrodite, the user will need to define two additional parameters: <code>H50</code> and <code>H95delta</code>. <code>H50</code> represents the length at which 50% of the population are male, and <code>H95delta</code> represents the length increment between <code>H50</code> and length at which 95% of the population are male. <code>H95delta</code> must be a value larger than 0.</p>
<p><code>MK</code> and <code>Tmax</code> are not essential input parameters (<strong>?</strong>). <code>MK</code> represents the M/K ratio (natural mortality divided by von Bertalanffy K coefficient) and <code>Tmax</code> the maximum observed age. <code>Tmax</code> must be equal to or greater than 2. When <code>Tmax</code> is not specified, the age to which 1% the population survives in an unfished system is used to calculate <code>Tmax</code>.</p>
</div>
<div id="fishery-object" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Fishery object<a href="om-pop.html#fishery-object" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>HistFisheryObj</code> is an S4 object of the class <code>Fishery</code> that holds the historical description of a fish stock, including vulnerability, retention, and discard information.
To create a new object of class <code>Fishery</code>, use the <code>new()</code> function, as follows:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="om-pop.html#cb9-1" tabindex="-1"></a>HistFisheryObj<span class="ot">&lt;-</span><span class="fu">new</span>(<span class="st">&quot;Fishery&quot;</span>)</span></code></pre></div>
<p>The slot names of the <code>HistFisheryObj</code> can be seen using the <code>slotNames()</code> function.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="om-pop.html#cb10-1" tabindex="-1"></a><span class="fu">slotNames</span>(HistFisheryObj)</span></code></pre></div>
<pre><code>## [1] &quot;title&quot;     &quot;vulType&quot;   &quot;vulParams&quot; &quot;retType&quot;   &quot;retParams&quot; &quot;retMax&quot;    &quot;Dmort&quot;</code></pre>
<p>The user can access the help file using <code>?</code> symbol</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="om-pop.html#cb12-1" tabindex="-1"></a>?<span class="st">`</span><span class="at">Fishery-class</span><span class="st">`</span>  </span></code></pre></div>
<p>In the help file, the user will find a description of the <code>HistFisheryObj</code> and the elements or slots it contains. To populate the slots, the user should start by defining a meaningful title (<code>title</code>), followed by specifying the selectivity/vulnerability, retention, and discard information.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="om-pop.html#cb13-1" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>title<span class="ot">&lt;-</span><span class="st">&quot;Test&quot;</span></span>
<span id="cb13-2"><a href="om-pop.html#cb13-2" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>vulType<span class="ot">&lt;-</span><span class="st">&quot;logistic&quot;</span></span>
<span id="cb13-3"><a href="om-pop.html#cb13-3" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>vulParams<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fl">10.2</span>,<span class="fl">0.1</span>) <span class="co">#Approx. knife edge</span></span>
<span id="cb13-4"><a href="om-pop.html#cb13-4" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>retType<span class="ot">&lt;-</span><span class="st">&quot;full&quot;</span></span>
<span id="cb13-5"><a href="om-pop.html#cb13-5" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>retMax <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb13-6"><a href="om-pop.html#cb13-6" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>Dmort <span class="ot">&lt;-</span> <span class="dv">0</span></span></code></pre></div>
<div id="selectivity-or-vulnerability" class="section level3 hasAnchor" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Selectivity or vulnerability<a href="om-pop.html#selectivity-or-vulnerability" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Selectivity or vulnerability is the probability of being selected or becoming vulnerable to the fishing gear. It can be defined as selectivity-at-age or selectivity-at-length. In the <strong>FishSimGTG package</strong>, selectivity is defined with respect to length, with a maximum value of 1 enforced.
<code>vulType</code> describes the type of selectivity/vulnerability function for the historical time period. The <strong>FishSimGTG</strong> package offers four options to model the selectivity shape: “<strong>logistic</strong>”, “<strong>explog</strong>”, “<strong>gillnetMasterNormal</strong>”, and “<strong>gillnetMasterLognormal</strong>”. The user can see a detailed description of the different selectivity functions by exploring the <code>?selWrapper</code> function.</p>
<p>Vulnerability types:</p>
<ul>
<li><p>“<strong>logistic</strong>” selectivity with two parameters (<code>vulParams</code>) represented by the length at 50% of selectivity and the length increment between the length at 50% of selectivity and the length at 95% selectivity.</p></li>
<li><p>“<strong>explog</strong>” is an exponential logistic selectivity (dome-shaped) function, defined by three parameters (<code>vulParams</code>), represented as <code>c(p1, peak, and p3)</code>. To use the “<strong>explog</strong>” function, the user must first provide the ascending rate (p1), which should be within the range of 0.02 to 1. Next, the user needs to define the peak of the vulnerability function, which corresponds to the location of the peak of the dome-shaped selectivity curve or the length at which selectivity is highest. This peak is expressed as a fraction (p2), determining its position relative to the range of lengths. For example, if the length range is between 1 and 20 cm, and p2 is set to 0.5, the peak will be at 10 cm.</p></li>
</ul>
<p>The peak can be calculated using the following equation:</p>
<p><span class="math display">\[
\text{peak} = \text{min}(\text{Length}) + p_2 \times (\text{max}(\text{Length}) - \text{min}(\text{Length}))
\]</span></p>
<p>p2 must be within the range of 0.01 to 0.9, with a reasonable starting value of 0.5. By adjusting p2, the user can shift the peak along the length range, from the minimum length to the maximum length.</p>
<p>p3 is the descending rate, which must be within the range of 0.001 to 0.5. A value of 0.001 provides a nearly asymptotic curve, while values above 0.2 produce a strongly dome-shaped function, where the p3 and p1 parameters interact strongly.</p>
<p><strong>Note: I suggest changing p2 by peak in the help file (i.e., c(p1, peak, p3) because what the user provides is the peak not p2 see Testing_selectivity.R)</strong></p>
<ul>
<li>“<strong>gillnetMasterNormal</strong>” is a master curve for mesh selectivity with a vector of three parameter (<code>vulParams</code>), represented as <code>c(p1, p2, and p3)</code>. <code>p1</code> determines the peak or central point of the dome-shaped selectivity curve. It is referred to as the location parameter because it “locates” where the maximum selectivity occurs along the length vector. <code>p2</code> is the variance parameter that controls the spread or width of the selectivity curve. It is related to how quickly selectivity decreases from the peak. A smaller value of p2 results in a narrower peak, meaning selectivity drops off more sharply as you move away from the central point (p1), making the curve steeper. <code>p3</code> represents the mesh size and scales the length vector. By dividing the length by p3, the selectivity curve can be adjusted to reflect different mesh sizes used in the fishery.</li>
</ul>
<p>When length vector/p3 equals p1, the selectivity function reaches its peak. For example, if p1 equals 2.5, the peak of selectivity will occur at the length when length/p3 equals 2.5.</p>
<p>(<strong>?</strong>)</p>
<ul>
<li>“<strong>gillnetMasterLognormal</strong>” is a master curve for mesh selectivity with a vector of three parameter (<code>vulParams</code>), represented as <code>c(p1, p2, and p3)</code>. These parameters are the same as those used in the “<strong>gillnetMasterNormal</strong>” selectivity function.
The difference between “<strong>gillnetMasterNormal</strong>” and “<strong>gillnetMasterLognormal</strong>” lies in the logarithmic transformation applied in the “<strong>gillnetMasterLognormal</strong>” function, where length/p3 and p1 are log transformed.</li>
</ul>
<p>The logarithmic transformation spreads out the curve, making it wider and less steep. This transformation smooths the effect of differences between length/p3 and p1, leading to a more gradual decrease in selectivity. Without using the logarithmic function, the selectivity curve becomes narrower and steeper, responding more sensitively to deviations from the peak.</p>
<p>(<strong>?</strong>)</p>
</div>
<div id="retention" class="section level3 hasAnchor" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Retention<a href="om-pop.html#retention" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Retention is the probability of being retained (kept by the fleet) and not discarded. It describes both the shape with respect to length and the maximum value, which can be less than 1. Fish that are selected by the fishing gear but not retained are discarded (discard mortality rate). The probability of being landed (<strong>keep</strong>), is calculated as Vulnerability × Retention. The user can see a detailed description of the different retention types by exploring the <code>?selWrapper</code> function.</p>
<p>There are three retention types (<code>retType</code>):</p>
<ul>
<li><p>“<strong>full</strong>” retention assumes that keep is equal to retention and that there is no discard mortality. There are no parameters (<code>retParams</code>) for “full” retention.</p></li>
<li><p>“<strong>logistic</strong>” retention has two parameters (<code>retParams</code>): the length at 50% retention and the length increment to 95% retention.</p></li>
<li><p>“<strong>slotLimit</strong>” retention includes two parameters (<code>retParams</code>): minimum length and maximum length, where catches occur between the minimum and maximum values.</p></li>
</ul>
<p><code>retMax</code> is a numeric value between 0 and 1 that defines the peak of the historical retention curve.</p>
</div>
<div id="discard-mortality-rate" class="section level3 hasAnchor" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Discard mortality rate<a href="om-pop.html#discard-mortality-rate" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Discard mortality rate represents the fish that are selected but not retained, and are therefore subject to the discard mortality rate (<code>Dmort</code>). <code>Dmort</code> is the fraction of discards that are killed (e.g., 0.25 means 25% are killed). This value must be between 0 and 1.</p>
<!-- **Dead discards** are the deaths resulting from vulnerable abundance that is not retained, defined as: -->
<!-- \[ \text{Dead discards} = \text{Vul} \times (1 - \text{Ret}) \times \text{Dmort} \] -->
<!-- where `Dmort` is the discard mortality rate. -->
<!-- **Total dead** is the probability of removal from the population via landing or discard, calculated as: -->
<!-- \[ \text{Total dead} = \text{Vul} \times (\text{Ret} + (1 - \text{Ret}) \times \text{Dmort}) \] -->
<p>in Section <a href="om-pop.html#lh-sel">2.3.1</a>, the user can explore various life history plots and different shapes of vulnerability, retention, keep, discard, and removal curves.</p>
</div>
</div>
<div id="time-area-object" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Time area object<a href="om-pop.html#time-area-object" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <strong>FishSimGTG</strong> package allows the user to model migration between multiple areas. The <code>TimeAreaObj</code> object holds descriptions of time steps, growth-type groups (GTGs), and area parameters.</p>
<p>To create a new object of class <code>TimeArea</code>, use the <code>new()</code> function as follows:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="om-pop.html#cb14-1" tabindex="-1"></a>TimeAreaObj<span class="ot">&lt;-</span><span class="fu">new</span>(<span class="st">&quot;TimeArea&quot;</span>)</span></code></pre></div>
<p>To populate the slots of the <code>TimeAreaObj</code> object, the user should start by defining a meaningful title (<code>title</code>). Similar to the other S4 objects, the slot names of the <code>TimeAreaObj</code> can be viewed using the <code>slotNames()</code> function, and the user can access the help file using the <code>?</code> symbol.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="om-pop.html#cb15-1" tabindex="-1"></a><span class="fu">slotNames</span>(TimeAreaObj)</span></code></pre></div>
<pre><code>##  [1] &quot;title&quot;             &quot;gtg&quot;               &quot;areas&quot;             &quot;recArea&quot;          
##  [5] &quot;move&quot;              &quot;iterations&quot;        &quot;historicalYears&quot;   &quot;historicalBio&quot;    
##  [9] &quot;historicalBioType&quot; &quot;historicalEffort&quot;</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="om-pop.html#cb17-1" tabindex="-1"></a><span class="co">#getting help</span></span>
<span id="cb17-2"><a href="om-pop.html#cb17-2" tabindex="-1"></a>?<span class="st">`</span><span class="at">TimeArea-class</span><span class="st">`</span>  </span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="om-pop.html#cb18-1" tabindex="-1"></a>TimeAreaObj<span class="sc">@</span>title <span class="ot">=</span> <span class="st">&quot;Test&quot;</span></span>
<span id="cb18-2"><a href="om-pop.html#cb18-2" tabindex="-1"></a>TimeAreaObj<span class="sc">@</span>gtg <span class="ot">=</span> <span class="dv">13</span></span>
<span id="cb18-3"><a href="om-pop.html#cb18-3" tabindex="-1"></a>TimeAreaObj<span class="sc">@</span>areas <span class="ot">=</span> <span class="dv">2</span></span>
<span id="cb18-4"><a href="om-pop.html#cb18-4" tabindex="-1"></a>TimeAreaObj<span class="sc">@</span>recArea <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">0.99</span>, <span class="fl">0.01</span>)</span>
<span id="cb18-5"><a href="om-pop.html#cb18-5" tabindex="-1"></a>TimeAreaObj<span class="sc">@</span>iterations <span class="ot">=</span> <span class="dv">100</span></span>
<span id="cb18-6"><a href="om-pop.html#cb18-6" tabindex="-1"></a>TimeAreaObj<span class="sc">@</span>historicalYears <span class="ot">=</span> <span class="dv">10</span></span>
<span id="cb18-7"><a href="om-pop.html#cb18-7" tabindex="-1"></a>TimeAreaObj<span class="sc">@</span>historicalBio <span class="ot">=</span> <span class="fl">0.5</span></span>
<span id="cb18-8"><a href="om-pop.html#cb18-8" tabindex="-1"></a>TimeAreaObj<span class="sc">@</span>historicalBioType <span class="ot">=</span> <span class="st">&quot;relB&quot;</span></span>
<span id="cb18-9"><a href="om-pop.html#cb18-9" tabindex="-1"></a>TimeAreaObj<span class="sc">@</span>move <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">1</span>), <span class="at">nrow=</span><span class="dv">2</span>, <span class="at">ncol=</span><span class="dv">2</span>, <span class="at">byrow=</span><span class="cn">FALSE</span>)</span>
<span id="cb18-10"><a href="om-pop.html#cb18-10" tabindex="-1"></a>TimeAreaObj<span class="sc">@</span>historicalEffort<span class="ot">&lt;-</span><span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1</span>, <span class="at">nrow =</span> <span class="dv">10</span>, <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>The <strong>FishSimGTG</strong> package allows for accounting for individual variation in growth trajectories by dividing the population into growth-type groups (GTGs), so each age class is divided into a collection of smaller cohorts or GTGs. The <code>gtg</code> slot in <code>TimeAreaObj</code> represents the number of growth-type groups, with a default value of 13.</p>
<p><code>areas</code> represents the number of areas in the model, and it must be greater than 1.</p>
<p><code>recArea</code> is a vector of length <code>areas</code>. Each element of the vector represents the fraction of recruitment to each area, with the values summing to 1. In this example, 0.99 of the recruitment is assigned to area 1, and 0.01 to area 2, implying that the model is treated similarly to a single-area model.</p>
<p><code>iterations</code> is the number of iterations to run.</p>
<p><code>historicalYears</code> are the number of years to simulate historical dynamics.</p>
<p><code>historicalBio</code> is a value grater than 0 and less than 1. The model assumes the population does not start in unfished conditions.</p>
<p><code>historicalBioType</code>is a string, that represents the type of historical biomass state. The options are: “relB” (relative biomass) or “SPR” (Spawning Potential Ratio).</p>
<p><code>move</code> is a matrix of migration rates of dimensions <code>areas</code> x <code>areas</code>.</p>
<p><code>historicalEffort</code> is a matrix of nrows = <code>historicalYears</code> and ncols = <code>areas</code> that contains value multipiers of initial equilibrium fishing effort. (<strong>ask bill</strong>).</p>
<div id="lh-sel" class="section level3 hasAnchor" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Exploring the Parameterization of the Operating Model So Far<a href="om-pop.html#lh-sel" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <strong>FishSimGTG</strong> package includes several plotting functions that allow users to explore the simulated life history and the configuration of the fishery object.</p>
<ul>
<li>The life history schedules can be plotted using the <code>LHwrapper()</code> function. This function displays the plot in the console and also returns all the details of the life history. The user can access the help file for the <code>LHwrapper()</code> function by using the <code>?</code> symbol (<code>?LHwrapper</code>).</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="om-pop.html#cb19-1" tabindex="-1"></a><span class="co">#To simply display to the console</span></span>
<span id="cb19-2"><a href="om-pop.html#cb19-2" tabindex="-1"></a>lhOut<span class="ot">&lt;-</span><span class="fu">LHwrapper</span>(LifeHistoryObj, TimeAreaObj, <span class="at">doPlot =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:lifehist"></span>
<img src="_main_files/figure-html/lifehist-1.png" alt="Life history schedules." width="100%" />
<p class="caption">
Figure 2.1: Life history schedules.
</p>
</div>
<p>The upper panels represent the von Bertalanffy growth curve (left) and the maturity ogive (right). The bottom panels represent the weight-at-age relationship and the allometric length-weight relationship.</p>
<p><code>lhOut</code> returns all the details of the life history.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="om-pop.html#cb20-1" tabindex="-1"></a><span class="co">#To return life history details</span></span>
<span id="cb20-2"><a href="om-pop.html#cb20-2" tabindex="-1"></a>lhOut</span></code></pre></div>
<ul>
<li>Vulnerability, retention, keep, dead discards, and removals at length can be plotted using the <code>selWrapper()</code> function.</li>
</ul>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="om-pop.html#cb21-1" tabindex="-1"></a>selOut<span class="ot">&lt;-</span><span class="fu">selWrapper</span>(<span class="at">lh =</span> lhOut, TimeAreaObj, <span class="at">FisheryObj =</span> HistFisheryObj, <span class="at">doPlot =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:sel"></span>
<img src="_main_files/figure-html/sel-1.png" alt="Logistic selectivity function." width="100%" />
<p class="caption">
Figure 2.2: Logistic selectivity function.
</p>
</div>
<p><code>selOut</code> returns all the details of the fishery selectivity.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="om-pop.html#cb22-1" tabindex="-1"></a><span class="co">#To return sel details</span></span>
<span id="cb22-2"><a href="om-pop.html#cb22-2" tabindex="-1"></a>selOut</span></code></pre></div>
<p>If the user modifies the vulnerability, retention, and discard parameters in the <code>HistFisheryObj</code>, other selectivity/vulnerability and retention shapes can be explored. For example:</p>
<p>– Assuming a vulnerability type <code>vulType</code> of “explog”, with parameters p1, peak, and p3.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="om-pop.html#cb23-1" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>vulType<span class="ot">&lt;-</span><span class="st">&quot;explog&quot;</span></span>
<span id="cb23-2"><a href="om-pop.html#cb23-2" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>vulParams<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fl">0.9</span>,<span class="dv">10</span>,<span class="fl">0.15</span>) <span class="co">#dome-shaped</span></span>
<span id="cb23-3"><a href="om-pop.html#cb23-3" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>retType<span class="ot">&lt;-</span><span class="st">&quot;full&quot;</span></span>
<span id="cb23-4"><a href="om-pop.html#cb23-4" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>retMax <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb23-5"><a href="om-pop.html#cb23-5" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>Dmort <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb23-6"><a href="om-pop.html#cb23-6" tabindex="-1"></a>selOut<span class="ot">&lt;-</span><span class="fu">selWrapper</span>(<span class="at">lh =</span> lhOut, TimeAreaObj, <span class="at">FisheryObj =</span> HistFisheryObj, <span class="at">doPlot =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:sel2"></span>
<img src="_main_files/figure-html/sel2-1.png" alt="Exponential logistic selectivity (dome-shaped)." width="100%" />
<p class="caption">
Figure 2.3: Exponential logistic selectivity (dome-shaped).
</p>
</div>
<p>– Assuming a vulnerability type <code>vulType</code> of “logistic”, with changes in the retention type (<code>retType</code>) and retention parameters (<code>retParams</code>).</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="om-pop.html#cb24-1" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>vulType<span class="ot">&lt;-</span><span class="st">&quot;logistic&quot;</span></span>
<span id="cb24-2"><a href="om-pop.html#cb24-2" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>vulParams<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fl">10.2</span>,<span class="fl">0.1</span>) <span class="co">#Approx. knife edge</span></span>
<span id="cb24-3"><a href="om-pop.html#cb24-3" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>retType<span class="ot">&lt;-</span><span class="st">&quot;logistic&quot;</span></span>
<span id="cb24-4"><a href="om-pop.html#cb24-4" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>retParams<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">11</span>,<span class="fl">0.8</span>)</span>
<span id="cb24-5"><a href="om-pop.html#cb24-5" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>retMax <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb24-6"><a href="om-pop.html#cb24-6" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>Dmort <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb24-7"><a href="om-pop.html#cb24-7" tabindex="-1"></a>selOut<span class="ot">&lt;-</span><span class="fu">selWrapper</span>(<span class="at">lh =</span> lhOut, TimeAreaObj, <span class="at">FisheryObj =</span> HistFisheryObj, <span class="at">doPlot =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:sel3"></span>
<img src="_main_files/figure-html/sel3-1.png" alt="Logistic selectivity function with different retention parameters." width="100%" />
<p class="caption">
Figure 2.4: Logistic selectivity function with different retention parameters.
</p>
</div>
<p>– Assuming a vulnerability type <code>vulType</code> of “gillnetMasterNormal” with parameters (<code>vulParams</code>), represented as <code>c(p1, p2, and p3)</code> and changes in the retention type (<code>retType</code>) and retention parameters (<code>retParams</code>).</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="om-pop.html#cb25-1" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>vulType<span class="ot">&lt;-</span><span class="st">&quot;gillnetMasterNormal&quot;</span></span>
<span id="cb25-2"><a href="om-pop.html#cb25-2" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>vulParams<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fl">2.5</span>,<span class="fl">0.1</span>,<span class="dv">4</span>)</span>
<span id="cb25-3"><a href="om-pop.html#cb25-3" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>retType<span class="ot">&lt;-</span><span class="st">&quot;logistic&quot;</span></span>
<span id="cb25-4"><a href="om-pop.html#cb25-4" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>retParams<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">9</span>,<span class="fl">0.5</span>)</span>
<span id="cb25-5"><a href="om-pop.html#cb25-5" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>retMax <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb25-6"><a href="om-pop.html#cb25-6" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>Dmort <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb25-7"><a href="om-pop.html#cb25-7" tabindex="-1"></a>selOut<span class="ot">&lt;-</span><span class="fu">selWrapper</span>(<span class="at">lh =</span> lhOut, TimeAreaObj, <span class="at">FisheryObj =</span> HistFisheryObj, <span class="at">doPlot =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:sel4"></span>
<img src="_main_files/figure-html/sel4-1.png" alt="Gillnet master normal selectivity function with different retention parameters." width="100%" />
<p class="caption">
Figure 2.5: Gillnet master normal selectivity function with different retention parameters.
</p>
</div>
<p>– Assuming a vulnerability type <code>vulType</code> of “gillnetMasterLognormal” with parameters (<code>vulParams</code>), represented as <code>c(p1, p2, and p3)</code> and changes in the retention type (<code>retType</code>) and retention parameters (<code>retParams</code>).</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="om-pop.html#cb26-1" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>vulType<span class="ot">&lt;-</span><span class="st">&quot;gillnetMasterLognormal&quot;</span></span>
<span id="cb26-2"><a href="om-pop.html#cb26-2" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>vulParams<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fl">2.5</span>,<span class="fl">0.1</span>,<span class="dv">4</span>)</span>
<span id="cb26-3"><a href="om-pop.html#cb26-3" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>retType<span class="ot">&lt;-</span><span class="st">&quot;logistic&quot;</span></span>
<span id="cb26-4"><a href="om-pop.html#cb26-4" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>retParams<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">9</span>,<span class="fl">0.5</span>)</span>
<span id="cb26-5"><a href="om-pop.html#cb26-5" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>retMax <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb26-6"><a href="om-pop.html#cb26-6" tabindex="-1"></a>HistFisheryObj<span class="sc">@</span>Dmort <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb26-7"><a href="om-pop.html#cb26-7" tabindex="-1"></a>selOut<span class="ot">&lt;-</span><span class="fu">selWrapper</span>(<span class="at">lh =</span> lhOut, TimeAreaObj, <span class="at">FisheryObj =</span> HistFisheryObj, <span class="at">doPlot =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:sel5"></span>
<img src="_main_files/figure-html/sel5-1.png" alt="Gillnet master log normal selectivity function with different retention parameters." width="100%" />
<p class="caption">
Figure 2.6: Gillnet master log normal selectivity function with different retention parameters.
</p>
</div>
</div>
</div>
<div id="stochastic-object" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Stochastic object<a href="om-pop.html#stochastic-object" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>StochasticObj</code> holds the parameters for stochastic components of the population and fishery dynamics.
To create a new object of class <code>Stochastic</code>, use the <code>new()</code> function.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="om-pop.html#cb27-1" tabindex="-1"></a>StochasticObj<span class="ot">&lt;-</span><span class="fu">new</span>(<span class="st">&quot;Stochastic&quot;</span>)</span></code></pre></div>
<p>Similar to other S4 objects, the slot names of <code>StochasticObj</code> can be viewed using the <code>slotNames()</code> function, and the help file can be accessed using the <code>?</code> symbol.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="om-pop.html#cb28-1" tabindex="-1"></a><span class="fu">slotNames</span>(StochasticObj)</span></code></pre></div>
<pre><code>##  [1] &quot;title&quot;                &quot;historicalBio&quot;        &quot;Linf&quot;                
##  [4] &quot;K&quot;                    &quot;L50&quot;                  &quot;L95delta&quot;            
##  [7] &quot;M&quot;                    &quot;Steep&quot;                &quot;recSD&quot;               
## [10] &quot;recRho&quot;               &quot;H50&quot;                  &quot;H95delta&quot;            
## [13] &quot;histFisheryVul&quot;       &quot;proFisheryVul_list&quot;   &quot;sameFisheryVul&quot;      
## [16] &quot;histFisheryRet&quot;       &quot;proFisheryRet_list&quot;   &quot;sameFisheryRet&quot;      
## [19] &quot;histFisheryDmort&quot;     &quot;proFisheryDmort_list&quot; &quot;sameFisheryDmort&quot;</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="om-pop.html#cb30-1" tabindex="-1"></a><span class="co">#getting help</span></span>
<span id="cb30-2"><a href="om-pop.html#cb30-2" tabindex="-1"></a>?<span class="st">`</span><span class="at">Stochastic-class</span><span class="st">`</span>  </span></code></pre></div>
<p>To populate the slots of <code>StochasticObj</code>, the user should begin by defining a meaningful title (<code>title</code>) and specifying the parameters in which they want to include stochasticity.</p>
<p>The slots defined in the <code>StochasticObj</code> object create additional inputs and override parameters specified elsewhere (e.g., <code>LifeHistoryObj</code>, <code>HistFisheryObj</code>, or <code>TimeAreaObj</code>), allowing the corresponding model components to become stochastic. The exception is recruitment variation (<code>recSD</code>), which is entered in the <code>LifeHistoryObj</code> object.</p>
<p>In the following example, we add uncertainty to <code>historicalBio</code> by replacing the parameter defined in the <code>TimeAreaObj</code> object (<code>TimeArea@historicalBio</code>) with a vector of length 2 that contains the lower and upper bounds of a uniform distribution for the historical equilibrium biomass <code>historicalBio</code>. During each iteration, one value is drawn from the uniform distribution.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="om-pop.html#cb31-1" tabindex="-1"></a>StochasticObj<span class="sc">@</span>title<span class="ot">&lt;-</span><span class="st">&quot;adding unceratinty&quot;</span></span>
<span id="cb31-2"><a href="om-pop.html#cb31-2" tabindex="-1"></a>StochasticObj<span class="sc">@</span>historicalBio <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">0.3</span>, <span class="fl">0.6</span>)</span></code></pre></div>
<div id="adding-stochasticity-to-the-lifehistoryobj-object" class="section level3 hasAnchor" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> Adding stochasticity to the <code>LifeHistoryObj</code> object<a href="om-pop.html#adding-stochasticity-to-the-lifehistoryobj-object" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>All scalar parameters in the <code>LifeHistoryObj</code> object that hold a single value, such as <code>Linf</code>, <code>K</code>, <code>L50</code>, <code>L95delta</code>, <code>M</code>, <code>Steep</code>, <code>recSD</code>, <code>recRho</code>, <code>H50</code>, and <code>H95delta</code>, can be redefined in the <code>StochasticObj</code> object. When redefined, they are replaced by a vector of length 2 containing the minimum and maximum values. If provided, these values override those in the <code>LifeHistoryObj</code>, and a unique value for each iteration is generated by sampling from the uniform distribution.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="om-pop.html#cb32-1" tabindex="-1"></a>StochasticObj<span class="sc">@</span>Steep <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="fl">0.6</span>) <span class="co">#e.g., adding stochasticity to Steepness</span></span></code></pre></div>
</div>
<div id="adding-stochasticity-to-the-histfisheryobj-object" class="section level3 hasAnchor" number="2.4.2">
<h3><span class="header-section-number">2.4.2</span> Adding stochasticity to the <code>HistFisheryObj</code> object<a href="om-pop.html#adding-stochasticity-to-the-histfisheryobj-object" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A matrix with <span class="math inline">\(n\)</span> columns and 2 rows is used to define the range of uncertainty for the vulnerability (<code>vulParams</code>) and retention (<code>retParams</code>) parameters from the <code>HistFisheryObj</code> in the <code>StochasticObj</code> object. Row 1 contains the minimum values, and row 2 contains the maximum values for each parameter, corresponding to the respective column <span class="math inline">\(n\)</span>.</p>
<p>When this matrix is provided in the <code>StochasticObj</code> object, it replaces the <code>vulParams</code> and <code>retParams</code> slots previously defined in the <code>HistFisheryObj</code>. This ensures that the columns of the matrix align with the required inputs for <code>vulType</code> and <code>retType</code> in the <code>HistFisheryObj</code> object.</p>
<p>The same logic applies to redefining the <code>Dmort</code> parameter, but in this case, the matrix contains only 1 column and 2 rows (min and max), as the <code>Dmort</code> parameter is a scalar. When this matrix is provided, it replaces the <code>Dmort</code> slot in the <code>HistFisheryObj</code>.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="om-pop.html#cb33-1" tabindex="-1"></a>StochasticObj<span class="sc">@</span>histFisheryVul<span class="ot">=</span><span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">9</span>,<span class="dv">11</span>,<span class="fl">0.07</span>,<span class="fl">0.13</span>), <span class="at">nrow=</span><span class="dv">2</span>, <span class="at">ncol=</span><span class="dv">2</span>,<span class="at">byrow=</span><span class="cn">FALSE</span>)  <span class="co">#e.g., adding stochasticity to histFisheryVul</span></span></code></pre></div>
<p>There are additional slots in the <code>StochasticObj</code> object that modify fishery projections (<code>ProFisheryObj</code>), which will be described in detail in a separate section.</p>
</div>
</div>
<div id="fishery-projections" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Fishery projections<a href="om-pop.html#fishery-projections" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The user has the option to modify the <code>HistFisheryObj</code> object when performing fishery projections. These modifications are stored in <code>ProFisheryObj</code>. The slots of <code>ProFisheryObj</code> can either be set to the same values as those in <code>HistFisheryObj</code> or adjusted to modify vulnerability, retention, and discard scenarios during the projection phase.</p>
<p><code>ProFisheryObj</code> can be populated as follows:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="om-pop.html#cb34-1" tabindex="-1"></a>ProFisheryObj<span class="ot">&lt;-</span><span class="fu">new</span>(<span class="st">&quot;Fishery&quot;</span>)</span>
<span id="cb34-2"><a href="om-pop.html#cb34-2" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>title<span class="ot">&lt;-</span><span class="st">&quot;Test&quot;</span></span>
<span id="cb34-3"><a href="om-pop.html#cb34-3" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>vulType<span class="ot">&lt;-</span><span class="st">&quot;logistic&quot;</span></span>
<span id="cb34-4"><a href="om-pop.html#cb34-4" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>vulParams<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fl">10.2</span>,<span class="fl">0.1</span>)</span>
<span id="cb34-5"><a href="om-pop.html#cb34-5" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>retType<span class="ot">&lt;-</span><span class="st">&quot;logistic&quot;</span></span>
<span id="cb34-6"><a href="om-pop.html#cb34-6" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>retParams <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">10.2</span>, <span class="fl">0.1</span>)</span>
<span id="cb34-7"><a href="om-pop.html#cb34-7" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>retMax <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb34-8"><a href="om-pop.html#cb34-8" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>Dmort <span class="ot">&lt;-</span> <span class="dv">0</span></span></code></pre></div>
<p>In this example, during the projections, we maintain the same vulnerability type and parameters as in the <code>HistFisheryObj</code> object but modify retention to follow a logistic function, using the same parameters as vulnerability.</p>
<div id="adding-stochasticity-to-the-fishery-projections" class="section level3 hasAnchor" number="2.5.1">
<h3><span class="header-section-number">2.5.1</span> Adding stochasticity to the fishery projections<a href="om-pop.html#adding-stochasticity-to-the-fishery-projections" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Additional slots in the <code>StochasticObj</code> object allow for modifications to the fishery projections (<code>ProFisheryObj</code>). These additional slots, <code>proFisheryVul_list</code>, <code>proFisheryRet_list</code>, and <code>proFisheryDmort_list</code>, are lists where the number of objects corresponds to the number of areas (<code>TimeAreaObj@areas</code>) defined in the model. Each object in the list is a matrix with <span class="math inline">\(n\)</span> columns and 2 rows, where the rows represent the minimum and maximum values for the parameters associated with each column <span class="math inline">\(n\)</span>.</p>
<p>When provided, these lists replace the <code>vulParams</code>, <code>retParams</code>, and <code>Dmort</code> slots in the fishery projections (<code>ProFisheryObj</code>). For <code>proFisheryVul_list</code> and <code>proFisheryRet_list</code>, the columns of the matrix align with the required inputs for <code>ProFisheryObj@vulType</code> and <code>ProFisheryObj@retType</code>.</p>
<p>During each iteration, the model samples values from a uniform distribution within the specified range (i.e., between the min and max values in each row), allowing for stochastic variation in the parameters across different areas.</p>
<p>The final slots in the <code>StochasticObj</code> object are <code>sameFisheryVul</code>, <code>sameFisheryRet</code>, and <code>sameFisheryDmort</code>. These slots determine whether the historical and projection parameter values for vulnerability, retention, and discards remain identical. Each slot contains a logical variable (“TRUE” or “FALSE”) that specifies whether the values defined in the <code>HistFisheryObj</code> for <code>vulParams</code>, <code>retParams</code>, and <code>Dmort</code> should also be applied to the fishery projections (<code>ProFisheryObj</code>) for <code>vulType</code>, <code>retType</code>, and <code>Dmort</code>. If set to <code>TRUE</code>, this will override any input provided in <code>ProFisheryObj</code> for these slots.</p>
</div>
</div>
<div id="the-management-strategy" class="section level2 hasAnchor" number="2.6">
<h2><span class="header-section-number">2.6</span> The management strategy<a href="om-pop.html#the-management-strategy" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The management strategy (<code>StrategyObj</code>) holds descriptions of projections to be made, including a harvest strategy. One of the most distinctive features of <strong>FishSimGTG</strong> is that it allows the user to customize the desired management procedures.</p>
<p>To create a new object of class <code>StrategyObj</code>, use the <code>new()</code> function.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="om-pop.html#cb35-1" tabindex="-1"></a>StrategyObj<span class="ot">&lt;-</span><span class="fu">new</span>(<span class="st">&quot;Strategy&quot;</span>)</span></code></pre></div>
<p>To populate the <code>StrategyObj</code>, the user should start by specifying the number of forward projection years to simulate (<code>projectionYears</code>), the <code>projectionName</code>, which defines the name of the strategy, and <code>projectionParams</code>, a list structure that follows the specifications of the projection function defined in <code>projectionName</code>.</p>
<p>In this example, <code>projectionParams</code> is a list with four items. The first item is a vector of length <code>areas</code> containing bag limits (<code>bag</code>). To indicate no bag limit, use <code>-99</code>. The bag limit should be considered as the take per unit time (e.g., per day) and basically acts like a CPUE threshold.</p>
<p>The second item is a matrix with <code>nrows = projectionYears</code> and <code>ncols = areas</code> that contains value multipliers of the initial equilibrium fishing effort (<code>effort</code>). This allows for the projection of effort reductions and the establishment of marine reserves by setting effort to <code>0</code>.</p>
<p>The two final items are a vector of length <code>areas</code> containing CPUE (<code>CPUE</code>), along with a <code>CPUEtype</code>, which is defined as a character string (e.g., <code>retN</code> for retention in numbers).</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="om-pop.html#cb36-1" tabindex="-1"></a>StrategyObj<span class="sc">@</span>projectionYears <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb36-2"><a href="om-pop.html#cb36-2" tabindex="-1"></a>StrategyObj<span class="sc">@</span>projectionName<span class="ot">&lt;-</span><span class="st">&quot;projectionStrategy&quot;</span></span>
<span id="cb36-3"><a href="om-pop.html#cb36-3" tabindex="-1"></a>StrategyObj<span class="sc">@</span>projectionParams<span class="ot">&lt;-</span><span class="fu">list</span>(<span class="at">bag =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">5</span>), <span class="at">effort =</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1</span>, <span class="at">nrow=</span><span class="dv">50</span>, <span class="at">ncol=</span><span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">FALSE</span>), <span class="at">CPUE =</span> <span class="fu">c</span>(<span class="dv">7</span>,<span class="dv">11</span>), <span class="at">CPUEtype =</span> <span class="st">&#39;retN&#39;</span>)</span></code></pre></div>
</div>
<div id="running-the-projection-and-management-strategy-simulation" class="section level2 hasAnchor" number="2.7">
<h2><span class="header-section-number">2.7</span> Running the projection and management strategy simulation<a href="om-pop.html#running-the-projection-and-management-strategy-simulation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This section provides an example for the user on how to run projections using three management strategies that combine minimum size and bag limits.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="om-pop.html#cb37-1" tabindex="-1"></a><span class="co">#Batch processing - 3 management strategies</span></span>
<span id="cb37-2"><a href="om-pop.html#cb37-2" tabindex="-1"></a>stateLmin<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fl">10.2</span>, <span class="fl">12.7</span>,  <span class="fl">12.7</span>)</span>
<span id="cb37-3"><a href="om-pop.html#cb37-3" tabindex="-1"></a>stateBag<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">20</span>, <span class="sc">-</span><span class="dv">99</span>, <span class="dv">20</span>)</span>
<span id="cb37-4"><a href="om-pop.html#cb37-4" tabindex="-1"></a>fileLabel<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;Higher_option1&quot;</span>, <span class="st">&quot;Higher_option2&quot;</span>, <span class="st">&quot;Higher_option3&quot;</span>)</span>
<span id="cb37-5"><a href="om-pop.html#cb37-5" tabindex="-1"></a>projectionLabel<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;Bag 20&quot;</span>, <span class="st">&quot;Min size 5 inch&quot;</span>, <span class="st">&quot;Bag 20 &amp; min size 5 inch&quot;</span>)</span></code></pre></div>
<p>In this example, <code>stateLmin</code> is a vector containing three minimum sizes, and <code>stateBag</code> is a vector that contains three bag limits. To indicate no bag limit, use <code>-99</code>. <code>fileLabel</code> is a label for the file name, and <code>projectionLabel</code> defines the name for the strategy that will be evaluated.</p>
<p>To run the projection under the three different management strategies (i.e., “Bag 20”, “Min size 5 inch”, and “Bag 20 &amp; Min size 5 inch”), we will use the <code>runProjection()</code>.</p>
<p>In this example, we modify the retention parameters of the logistic function previously defined in <code>ProFisheryObj@retParams</code>. These parameters are now redefined as <code>ProFisheryObj@retParams &lt;- c(stateLmin[sc], 0.1)</code>, using the pre-specified size limits (<code>stateLmin</code>).</p>
<p>Additionally, in the list structure of the <code>StrategyObj@projectionParams</code>, the elements of the <code>bag</code> vector are replaced by the specified bag limits (<code>stateBag</code>).</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="om-pop.html#cb38-1" tabindex="-1"></a><span class="cf">for</span>(sc <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">NROW</span>(stateLmin)){</span>
<span id="cb38-2"><a href="om-pop.html#cb38-2" tabindex="-1"></a></span>
<span id="cb38-3"><a href="om-pop.html#cb38-3" tabindex="-1"></a>  <span class="co">#Size limit - changes retention, not selectivity</span></span>
<span id="cb38-4"><a href="om-pop.html#cb38-4" tabindex="-1"></a>  ProFisheryObj<span class="sc">@</span>retParams<span class="ot">&lt;-</span><span class="fu">c</span>(stateLmin[sc],<span class="fl">0.1</span>)</span>
<span id="cb38-5"><a href="om-pop.html#cb38-5" tabindex="-1"></a></span>
<span id="cb38-6"><a href="om-pop.html#cb38-6" tabindex="-1"></a>  <span class="co">#Bag limit</span></span>
<span id="cb38-7"><a href="om-pop.html#cb38-7" tabindex="-1"></a>StrategyObj<span class="sc">@</span>projectionParams<span class="ot">&lt;-</span><span class="fu">list</span>(<span class="at">bag =</span> <span class="fu">c</span>(stateBag[sc], stateBag[sc]), <span class="at">effort =</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1</span>, <span class="at">nrow=</span><span class="dv">50</span>, <span class="at">ncol=</span><span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">FALSE</span>), <span class="at">CPUE =</span> <span class="fu">c</span>(<span class="dv">7</span>,<span class="dv">11</span>), <span class="at">CPUEtype =</span> <span class="st">&#39;retN&#39;</span>)</span>
<span id="cb38-8"><a href="om-pop.html#cb38-8" tabindex="-1"></a></span>
<span id="cb38-9"><a href="om-pop.html#cb38-9" tabindex="-1"></a>  <span class="fu">runProjection</span>(<span class="at">LifeHistoryObj =</span> LifeHistoryObj,</span>
<span id="cb38-10"><a href="om-pop.html#cb38-10" tabindex="-1"></a>                <span class="at">TimeAreaObj =</span> TimeAreaObj,</span>
<span id="cb38-11"><a href="om-pop.html#cb38-11" tabindex="-1"></a>                <span class="at">HistFisheryObj =</span> HistFisheryObj,</span>
<span id="cb38-12"><a href="om-pop.html#cb38-12" tabindex="-1"></a>                <span class="at">ProFisheryObj_list =</span> <span class="fu">list</span>(ProFisheryObj, ProFisheryObj),</span>
<span id="cb38-13"><a href="om-pop.html#cb38-13" tabindex="-1"></a>                <span class="at">StrategyObj =</span> StrategyObj,</span>
<span id="cb38-14"><a href="om-pop.html#cb38-14" tabindex="-1"></a>                <span class="at">StochasticObj =</span> StochasticObj,</span>
<span id="cb38-15"><a href="om-pop.html#cb38-15" tabindex="-1"></a>                <span class="at">wd =</span> <span class="fu">here</span>(<span class="st">&quot;data-test&quot;</span>, <span class="st">&quot;Kole&quot;</span>),</span>
<span id="cb38-16"><a href="om-pop.html#cb38-16" tabindex="-1"></a>                <span class="at">fileName =</span> fileLabel[sc],</span>
<span id="cb38-17"><a href="om-pop.html#cb38-17" tabindex="-1"></a>                <span class="at">doPlot =</span> <span class="cn">TRUE</span>,</span>
<span id="cb38-18"><a href="om-pop.html#cb38-18" tabindex="-1"></a>                <span class="at">titleStrategy =</span> projectionLabel[sc]</span>
<span id="cb38-19"><a href="om-pop.html#cb38-19" tabindex="-1"></a>  )</span>
<span id="cb38-20"><a href="om-pop.html#cb38-20" tabindex="-1"></a>}</span></code></pre></div>
<p>The <code>runProjection()</code> function contains several arguments. The objects <code>LifeHistoryObj</code>, <code>TimeAreaObj</code>, <code>HistFisheryObj</code>, <code>ProFisheryObj_list</code>, and <code>StrategyObj</code> were defined above. Among these, <code>LifeHistoryObj</code>, <code>TimeAreaObj</code>, and <code>HistFisheryObj</code> are required. The objects <code>StochasticObj</code>, <code>ProFisheryObj_list</code>, and <code>StrategyObj</code> are optional; however, <code>ProFisheryObj_list</code> should be used when <code>StrategyObj</code> is specified.</p>
<p>The function requires <code>ProFisheryObj</code> to be entered as a list, allowing the user to modify vulnerability, retention, and discard scenarios during the projection phase across different areas.</p>
<p>The <code>wd</code> argument is required and sets the working directory where the outputs of the projection will be saved. In this example, “Kole” is a subfolder of “data-test,” so all plots will be stored in “Kole.”</p>
<p>The <code>fileName</code> argument specifies the output file name and can be set to the <code>fileLabel</code> defined above. This argument is always required.</p>
<p>The <code>doPlot</code> argument is a logical value indicating whether to produce diagnostic plots upon completing simulations. The default is <code>FALSE</code> (no plots).</p>
<p>The <code>titleStrategy</code> argument describes the title for the management strategy being evaluated and can be set to the <code>projectionLabel</code>.</p>
<p>To explore all the arguments of this function, the user can use <code>?ProFisheryObj</code>.</p>
<p>Next, we present some of the plots produced by <code>runProjection()</code>.</p>
<div class="figure"><span style="display:block;" id="fig:fig-SB-H-opt1"></span>
<img src="data-test/Kole/Higher_option1_SB_Area.png" alt="Spawning biomass by area- Higher_option1 " width="100%" />
<p class="caption">
Figure 2.7: Spawning biomass by area- Higher_option1
</p>
</div>
<div class="figure"><span style="display:block;" id="fig:fig-SB-H-opt2"></span>
<img src="data-test/Kole/Higher_option2_SB_Area.png" alt="Spawning biomass by area- Higher_option2 " width="100%" />
<p class="caption">
Figure 2.8: Spawning biomass by area- Higher_option2
</p>
</div>
<div class="figure"><span style="display:block;" id="fig:fig-SB-H-opt3"></span>
<img src="data-test/Kole/Higher_option3_SB_Area.png" alt="Spawning biomass by area- Higher_option3 " width="100%" />
<p class="caption">
Figure 2.9: Spawning biomass by area- Higher_option3
</p>
</div>
<div class="figure"><span style="display:block;" id="fig:fig-catch-H-opt1"></span>
<img src="data-test/Kole/Higher_option1_catchB_Area.png" alt="Catch biomass by area- Higher_option1 " width="100%" />
<p class="caption">
Figure 2.10: Catch biomass by area- Higher_option1
</p>
</div>
<div class="figure"><span style="display:block;" id="fig:fig-catch-H-opt2"></span>
<img src="data-test/Kole/Higher_option2_catchB_Area.png" alt="Catch biomass by area- Higher_option2 " width="100%" />
<p class="caption">
Figure 2.11: Catch biomass by area- Higher_option2
</p>
</div>
<div class="figure"><span style="display:block;" id="fig:fig-catch-H-opt3"></span>
<img src="data-test/Kole/Higher_option3_catchB_Area.png" alt="Catch biomass by area- Higher_option3 " width="100%" />
<p class="caption">
Figure 2.12: Catch biomass by area- Higher_option3
</p>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="om.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/01-intro.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
