<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Management Procedure (MP) | FishSimGTG: Population dynamics simulation</title>
  <meta name="description" content="This document includes the description of FishSimGTG" />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Management Procedure (MP) | FishSimGTG: Population dynamics simulation" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This document includes the description of FishSimGTG" />
  <meta name="github-repo" content="natureanalytics-ca/fishSimGTG" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Management Procedure (MP) | FishSimGTG: Population dynamics simulation" />
  
  <meta name="twitter:description" content="This document includes the description of FishSimGTG" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="observation-sub-model.html"/>
<link rel="next" href="mse.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">FishSimGTG User Guide</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> What is FishSimGTG?</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#installation-and-required-packages"><i class="fa fa-check"></i><b>1.1</b> Installation and required packages</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="om.html"><a href="om.html"><i class="fa fa-check"></i><b>2</b> Technical description</a>
<ul>
<li class="chapter" data-level="2.1" data-path="om.html"><a href="om.html#population-dynamics"><i class="fa fa-check"></i><b>2.1</b> Population dynamics</a></li>
<li class="chapter" data-level="2.2" data-path="om.html"><a href="om.html#life-history"><i class="fa fa-check"></i><b>2.2</b> Life history</a></li>
<li class="chapter" data-level="2.3" data-path="om.html"><a href="om.html#fishery-dynamics"><i class="fa fa-check"></i><b>2.3</b> Fishery dynamics</a></li>
<li class="chapter" data-level="2.4" data-path="om.html"><a href="om.html#observation-and-monitoring"><i class="fa fa-check"></i><b>2.4</b> Observation and monitoring</a></li>
<li class="chapter" data-level="2.5" data-path="om.html"><a href="om.html#growth-type-group"><i class="fa fa-check"></i><b>2.5</b> Growth-type group</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="om-pop.html"><a href="om-pop.html"><i class="fa fa-check"></i><b>3</b> Operating Model (OM)</a>
<ul>
<li class="chapter" data-level="3.1" data-path="om-pop.html"><a href="om-pop.html#time-area-object"><i class="fa fa-check"></i><b>3.1</b> Time area object</a></li>
<li class="chapter" data-level="3.2" data-path="om-pop.html"><a href="om-pop.html#life-history-object"><i class="fa fa-check"></i><b>3.2</b> Life history object</a></li>
<li class="chapter" data-level="3.3" data-path="om-pop.html"><a href="om-pop.html#historical-fishery-object"><i class="fa fa-check"></i><b>3.3</b> Historical fishery object</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="om-pop.html"><a href="om-pop.html#selectivity"><i class="fa fa-check"></i><b>3.3.1</b> Selectivity</a></li>
<li class="chapter" data-level="3.3.2" data-path="om-pop.html"><a href="om-pop.html#retention"><i class="fa fa-check"></i><b>3.3.2</b> Retention</a></li>
<li class="chapter" data-level="3.3.3" data-path="om-pop.html"><a href="om-pop.html#discard-mortality-rate"><i class="fa fa-check"></i><b>3.3.3</b> Discard mortality rate</a></li>
<li class="chapter" data-level="3.3.4" data-path="om-pop.html"><a href="om-pop.html#fishery-plots"><i class="fa fa-check"></i><b>3.3.4</b> Fishery plots</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="om-pop.html"><a href="om-pop.html#stochastic-object"><i class="fa fa-check"></i><b>3.4</b> Stochastic object</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="om-pop.html"><a href="om-pop.html#uncertainty-in-life-history"><i class="fa fa-check"></i><b>3.4.1</b> Uncertainty in life history</a></li>
<li class="chapter" data-level="3.4.2" data-path="om-pop.html"><a href="om-pop.html#uncertainty-in-the-historical-fishery"><i class="fa fa-check"></i><b>3.4.2</b> Uncertainty in the historical fishery</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="om-pop.html"><a href="om-pop.html#initial-conditions"><i class="fa fa-check"></i><b>3.5</b> Initial conditions</a></li>
<li class="chapter" data-level="3.6" data-path="om-pop.html"><a href="om-pop.html#historical-dynamics"><i class="fa fa-check"></i><b>3.6</b> Historical dynamics</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="om-pop.html"><a href="om-pop.html#populate-the-life-history-object"><i class="fa fa-check"></i><b>3.6.1</b> Populate the life history object</a></li>
<li class="chapter" data-level="3.6.2" data-path="om-pop.html"><a href="om-pop.html#populate-the-historical-fishery-object"><i class="fa fa-check"></i><b>3.6.2</b> Populate the historical fishery object</a></li>
<li class="chapter" data-level="3.6.3" data-path="om-pop.html"><a href="om-pop.html#populate-the-time-area-object"><i class="fa fa-check"></i><b>3.6.3</b> Populate the time-area object</a></li>
<li class="chapter" data-level="3.6.4" data-path="om-pop.html"><a href="om-pop.html#review-life-history-characteristics"><i class="fa fa-check"></i><b>3.6.4</b> Review life history characteristics</a></li>
<li class="chapter" data-level="3.6.5" data-path="om-pop.html"><a href="om-pop.html#review-fishery-characteristics"><i class="fa fa-check"></i><b>3.6.5</b> Review fishery characteristics</a></li>
<li class="chapter" data-level="3.6.6" data-path="om-pop.html"><a href="om-pop.html#populate-optional-key-uncertainties"><i class="fa fa-check"></i><b>3.6.6</b> Populate optional key uncertainties</a></li>
<li class="chapter" data-level="3.6.7" data-path="om-pop.html"><a href="om-pop.html#generate-historical-dynamics"><i class="fa fa-check"></i><b>3.6.7</b> Generate historical dynamics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="observation-sub-model.html"><a href="observation-sub-model.html"><i class="fa fa-check"></i><b>4</b> Observation sub-model</a></li>
<li class="chapter" data-level="5" data-path="management-procedure-mp.html"><a href="management-procedure-mp.html"><i class="fa fa-check"></i><b>5</b> Management Procedure (MP)</a>
<ul>
<li class="chapter" data-level="5.1" data-path="management-procedure-mp.html"><a href="management-procedure-mp.html#strategy-object"><i class="fa fa-check"></i><b>5.1</b> Strategy object</a></li>
<li class="chapter" data-level="5.2" data-path="management-procedure-mp.html"><a href="management-procedure-mp.html#projection-fishery-object"><i class="fa fa-check"></i><b>5.2</b> Projection fishery object</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="management-procedure-mp.html"><a href="management-procedure-mp.html#fishery-spatial-considerations"><i class="fa fa-check"></i><b>5.2.1</b> Fishery spatial considerations</a></li>
<li class="chapter" data-level="5.2.2" data-path="management-procedure-mp.html"><a href="management-procedure-mp.html#uncertainty-in-the-projection-fishery"><i class="fa fa-check"></i><b>5.2.2</b> Uncertainty in the projection fishery</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="management-procedure-mp.html"><a href="management-procedure-mp.html#mp-template"><i class="fa fa-check"></i><b>5.3</b> MP Template</a></li>
<li class="chapter" data-level="5.4" data-path="management-procedure-mp.html"><a href="management-procedure-mp.html#mp-lib"><i class="fa fa-check"></i><b>5.4</b> MP library</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="mse.html"><a href="mse.html"><i class="fa fa-check"></i><b>6</b> Management strategy evaluation</a></li>
<li class="chapter" data-level="7" data-path="measuring-performance.html"><a href="measuring-performance.html"><i class="fa fa-check"></i><b>7</b> Measuring performance</a></li>
<li class="chapter" data-level="8" data-path="examples.html"><a href="examples.html"><i class="fa fa-check"></i><b>8</b> Examples</a>
<ul>
<li class="chapter" data-level="8.1" data-path="examples.html"><a href="examples.html#examples-projection"><i class="fa fa-check"></i><b>8.1</b> Projection modeling</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="examples.html"><a href="examples.html#populate-the-life-history-object-1"><i class="fa fa-check"></i><b>8.1.1</b> Populate the life history object</a></li>
<li class="chapter" data-level="8.1.2" data-path="examples.html"><a href="examples.html#populate-the-historical-fishery-object-1"><i class="fa fa-check"></i><b>8.1.2</b> Populate the historical fishery object</a></li>
<li class="chapter" data-level="8.1.3" data-path="examples.html"><a href="examples.html#populate-the-time-area-object-1"><i class="fa fa-check"></i><b>8.1.3</b> Populate the time-area object</a></li>
<li class="chapter" data-level="8.1.4" data-path="examples.html"><a href="examples.html#review-life-history-characteristics-1"><i class="fa fa-check"></i><b>8.1.4</b> Review life history characteristics</a></li>
<li class="chapter" data-level="8.1.5" data-path="examples.html"><a href="examples.html#review-fishery-characteristics-1"><i class="fa fa-check"></i><b>8.1.5</b> Review fishery characteristics</a></li>
<li class="chapter" data-level="8.1.6" data-path="examples.html"><a href="examples.html#include-uncertainty"><i class="fa fa-check"></i><b>8.1.6</b> Include uncertainty</a></li>
<li class="chapter" data-level="8.1.7" data-path="examples.html"><a href="examples.html#specify-projection-conditions"><i class="fa fa-check"></i><b>8.1.7</b> Specify projection conditions</a></li>
<li class="chapter" data-level="8.1.8" data-path="examples.html"><a href="examples.html#running-projections"><i class="fa fa-check"></i><b>8.1.8</b> Running projections</a></li>
<li class="chapter" data-level="8.1.9" data-path="examples.html"><a href="examples.html#simple-batch-processing"><i class="fa fa-check"></i><b>8.1.9</b> Simple batch processing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">FishSimGTG: Population dynamics simulation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="management-procedure-mp" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> Management Procedure (MP)<a href="management-procedure-mp.html#management-procedure-mp" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>A Management Procedure (MP) is a pre-agreed process defining how a fishery will be managed, with the primary role being to take fishery information and return a management recommendation. <strong>FishSimGTG</strong> allows the user to create custom MPs and simulation-test their performance using management strategy evaluation (MSE).</p>
<p>Evaluating an MP requires specifying the objects of the OM as well as two additional S4-type objects. As previously discussed, the OM is comprised of three required objects in S4 format:</p>
<ul>
<li>Life history object (<code>LifeHistoryObj</code>)</li>
<li>Historical fishery object (<code>HistFisheryObj</code>)</li>
<li>Time-area object (<code>TimeAreaObj</code>)</li>
</ul>
<p>With optional:</p>
<ul>
<li>Stochastic object (<code>StochasticObj</code>)</li>
</ul>
<p>And, producing forward-simulation (e.g., implementing an MP and evaluating its performance) requires two additional objects in S4 format:</p>
<ul>
<li>Management procedure or harvest strategy object (<code>StrategyObj</code>)</li>
<li>Forward projection time period fishery object (<code>ProFisheryObj</code>)</li>
</ul>
<div id="strategy-object" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Strategy object<a href="management-procedure-mp.html#strategy-object" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>StrategyObj</code> holds a set of instructions about how the fishery will be managed.</p>
<p>To create a new object of class <code>StrategyObj</code>, use the <code>new()</code> function.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="management-procedure-mp.html#cb44-1" tabindex="-1"></a>StrategyObj<span class="ot">&lt;-</span><span class="fu">new</span>(<span class="st">&quot;Strategy&quot;</span>)</span></code></pre></div>
<p>The user can see the elements or slots of the <code>StrategyObj</code> using the <code>slotNames()</code> function.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="management-procedure-mp.html#cb45-1" tabindex="-1"></a><span class="fu">slotNames</span>(StrategyObj)</span></code></pre></div>
<pre><code>## [1] &quot;title&quot;            &quot;projectionYears&quot;  &quot;projectionName&quot;   &quot;projectionParams&quot;</code></pre>
<p>To populate the <code>StrategyObj</code>, the user should start by specifying a title (<code>title</code>) and the number of forward projection years to simulate (<code>projectionYears</code>).</p>
<p>The <code>projectionName</code> is a string that directs to a named function that contains an algorithm describing how the fishery will be managed. And, <code>projectionParams</code> is a list of input parameters that will be utilized by the projection function defined in <code>projectionName</code>.</p>
<p>Developing the necessary code to create a custom <code>StrategyObj</code> can be very challenging. Before designing an MP, the user is advised to first explore Projection Modeling in section <a href="examples.html#examples-projection">8.1</a>. Projection modeling differs from an MP in that projections consist of ‘static’ actions such as a size limit or constant fishing effort, whereas MPs are ‘dynamic’ responses to updated information (e.g., pre-agreed responses to observations of the fishery system), including, for example, annual adjustments to catch limits. MPs tend to be more complicated because they include a harvest control rule or decision-rule that is informed by updated information gathered from monitoring. While <strong>FishSimGTG</strong> requires custom coding to produce an MP, projection modeling can be carried out using built-in functions.</p>
</div>
<div id="projection-fishery-object" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Projection fishery object<a href="management-procedure-mp.html#projection-fishery-object" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>ProFisheryObj</code> is an S4 object of the class <code>Fishery</code> that holds fishery characteristics, including vulnerability, retention, and discard information. Note that both the <code>HistFisheryObj</code> and
<code>ProFisheryObj</code> utilize the same S4 object class.</p>
<p><code>HistFisheryObj</code> and <code>ProFisheryObj</code> are both <code>Fishery</code> objects. When no changes in the fishery characteristics are anticipated during forward projections, the slots of <code>ProFisheryObj</code> can be set to the same values as those in <code>HistFisheryObj</code></p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="management-procedure-mp.html#cb47-1" tabindex="-1"></a>ProFisheryObj<span class="ot">&lt;-</span>HistFisheryObj</span></code></pre></div>
<p>Alternatively, the user has the option to modify the <code>HistFisheryObj</code> object when performing forward projections. These modifications are stored in a new <code>ProFisheryObj</code>.</p>
<p>To create a new object of class <code>Fishery</code>, use the <code>new()</code> function, as follows:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="management-procedure-mp.html#cb48-1" tabindex="-1"></a>ProFisheryObj<span class="ot">&lt;-</span><span class="fu">new</span>(<span class="st">&quot;Fishery&quot;</span>)</span></code></pre></div>
<p>The slot names of the <code>ProFisheryObj</code> can be seen using the <code>slotNames()</code> function.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="management-procedure-mp.html#cb49-1" tabindex="-1"></a><span class="fu">slotNames</span>(ProFisheryObj)</span></code></pre></div>
<pre><code>## [1] &quot;title&quot;     &quot;vulType&quot;   &quot;vulParams&quot; &quot;retType&quot;   &quot;retParams&quot; &quot;retMax&quot;    &quot;Dmort&quot;</code></pre>
<p>The user can access the help file using <code>?</code> symbol</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="management-procedure-mp.html#cb51-1" tabindex="-1"></a>?<span class="st">`</span><span class="at">Fishery-class</span><span class="st">`</span>  </span></code></pre></div>
<p><code>ProFisheryObj</code> can be populated as follows:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="management-procedure-mp.html#cb52-1" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>title<span class="ot">&lt;-</span><span class="st">&quot;Test&quot;</span></span>
<span id="cb52-2"><a href="management-procedure-mp.html#cb52-2" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>vulType<span class="ot">&lt;-</span><span class="st">&quot;logistic&quot;</span></span>
<span id="cb52-3"><a href="management-procedure-mp.html#cb52-3" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>vulParams<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fl">10.2</span>,<span class="fl">0.1</span>)</span>
<span id="cb52-4"><a href="management-procedure-mp.html#cb52-4" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>retType<span class="ot">&lt;-</span><span class="st">&quot;logistic&quot;</span></span>
<span id="cb52-5"><a href="management-procedure-mp.html#cb52-5" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>retParams <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="fl">0.1</span>)</span>
<span id="cb52-6"><a href="management-procedure-mp.html#cb52-6" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>retMax <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb52-7"><a href="management-procedure-mp.html#cb52-7" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>Dmort <span class="ot">&lt;-</span> <span class="dv">0</span></span></code></pre></div>
<p>In this example, during the projections, we maintain the same vulnerability type and parameters as in the <code>HistFisheryObj</code> object but modify retention to follow a logistic function.</p>
<div id="fishery-spatial-considerations" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Fishery spatial considerations<a href="management-procedure-mp.html#fishery-spatial-considerations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As noted, fishery characteristics can be modified between the historical and forward projection time periods. Additionally, fishery characteristics can vary between spatial areas during forward projection. The number of <code>ProFisheryObj</code> specified must be equal to the number of areas defined by <code>TimeAreaObj@areas</code>. <code>ProFisheryObj</code> must be contained in a list, with examples as follows:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="management-procedure-mp.html#cb53-1" tabindex="-1"></a><span class="co">#Two-area OM, with no change in fishery characteristics between historical and forward projection time periods.</span></span>
<span id="cb53-2"><a href="management-procedure-mp.html#cb53-2" tabindex="-1"></a></span>
<span id="cb53-3"><a href="management-procedure-mp.html#cb53-3" tabindex="-1"></a>ProFisheryObj<span class="ot">&lt;-</span>HistFisheryObj</span>
<span id="cb53-4"><a href="management-procedure-mp.html#cb53-4" tabindex="-1"></a>ProFisheryObj_list <span class="ot">=</span> <span class="fu">list</span>(ProFisheryObj, ProFisheryObj)</span></code></pre></div>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="management-procedure-mp.html#cb54-1" tabindex="-1"></a><span class="co">#Two-area OM, with no spatial differences in fishery characteristics during forward projection.</span></span>
<span id="cb54-2"><a href="management-procedure-mp.html#cb54-2" tabindex="-1"></a></span>
<span id="cb54-3"><a href="management-procedure-mp.html#cb54-3" tabindex="-1"></a>ProFisheryObj<span class="ot">&lt;-</span><span class="fu">new</span>(<span class="st">&quot;Fishery&quot;</span>)</span>
<span id="cb54-4"><a href="management-procedure-mp.html#cb54-4" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>title<span class="ot">&lt;-</span><span class="st">&quot;Test&quot;</span></span>
<span id="cb54-5"><a href="management-procedure-mp.html#cb54-5" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>vulType<span class="ot">&lt;-</span><span class="st">&quot;logistic&quot;</span></span>
<span id="cb54-6"><a href="management-procedure-mp.html#cb54-6" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>vulParams<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fl">10.2</span>,<span class="fl">0.1</span>)</span>
<span id="cb54-7"><a href="management-procedure-mp.html#cb54-7" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>retType<span class="ot">&lt;-</span><span class="st">&quot;logistic&quot;</span></span>
<span id="cb54-8"><a href="management-procedure-mp.html#cb54-8" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>retParams <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="fl">0.1</span>)</span>
<span id="cb54-9"><a href="management-procedure-mp.html#cb54-9" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>retMax <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb54-10"><a href="management-procedure-mp.html#cb54-10" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>Dmort <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb54-11"><a href="management-procedure-mp.html#cb54-11" tabindex="-1"></a></span>
<span id="cb54-12"><a href="management-procedure-mp.html#cb54-12" tabindex="-1"></a>ProFisheryObj_list <span class="ot">=</span> <span class="fu">list</span>(ProFisheryObj, ProFisheryObj)</span></code></pre></div>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="management-procedure-mp.html#cb55-1" tabindex="-1"></a><span class="co">#Two-area OM, with spatial differences in fishery characteristics during forward projection.</span></span>
<span id="cb55-2"><a href="management-procedure-mp.html#cb55-2" tabindex="-1"></a></span>
<span id="cb55-3"><a href="management-procedure-mp.html#cb55-3" tabindex="-1"></a>ProFisheryObj1<span class="ot">&lt;-</span><span class="fu">new</span>(<span class="st">&quot;Fishery&quot;</span>)</span>
<span id="cb55-4"><a href="management-procedure-mp.html#cb55-4" tabindex="-1"></a>ProFisheryObj1<span class="sc">@</span>title<span class="ot">&lt;-</span><span class="st">&quot;FisheryArea1&quot;</span></span>
<span id="cb55-5"><a href="management-procedure-mp.html#cb55-5" tabindex="-1"></a>ProFisheryObj1<span class="sc">@</span>vulType<span class="ot">&lt;-</span><span class="st">&quot;logistic&quot;</span></span>
<span id="cb55-6"><a href="management-procedure-mp.html#cb55-6" tabindex="-1"></a>ProFisheryObj1<span class="sc">@</span>vulParams<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fl">10.2</span>,<span class="fl">0.1</span>)</span>
<span id="cb55-7"><a href="management-procedure-mp.html#cb55-7" tabindex="-1"></a>ProFisheryObj1<span class="sc">@</span>retType<span class="ot">&lt;-</span><span class="st">&quot;logistic&quot;</span></span>
<span id="cb55-8"><a href="management-procedure-mp.html#cb55-8" tabindex="-1"></a>ProFisheryObj1<span class="sc">@</span>retParams <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="fl">0.1</span>)</span>
<span id="cb55-9"><a href="management-procedure-mp.html#cb55-9" tabindex="-1"></a>ProFisheryObj1<span class="sc">@</span>retMax <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb55-10"><a href="management-procedure-mp.html#cb55-10" tabindex="-1"></a>ProFisheryObj1<span class="sc">@</span>Dmort <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb55-11"><a href="management-procedure-mp.html#cb55-11" tabindex="-1"></a></span>
<span id="cb55-12"><a href="management-procedure-mp.html#cb55-12" tabindex="-1"></a>ProFisheryObj2<span class="ot">&lt;-</span><span class="fu">new</span>(<span class="st">&quot;Fishery&quot;</span>)</span>
<span id="cb55-13"><a href="management-procedure-mp.html#cb55-13" tabindex="-1"></a>ProFisheryObj2<span class="sc">@</span>title<span class="ot">&lt;-</span><span class="st">&quot;FisheryArea2&quot;</span></span>
<span id="cb55-14"><a href="management-procedure-mp.html#cb55-14" tabindex="-1"></a>ProFisheryObj2<span class="sc">@</span>vulType<span class="ot">&lt;-</span><span class="st">&quot;logistic&quot;</span></span>
<span id="cb55-15"><a href="management-procedure-mp.html#cb55-15" tabindex="-1"></a>ProFisheryObj2<span class="sc">@</span>vulParams<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fl">10.2</span>,<span class="fl">0.1</span>)</span>
<span id="cb55-16"><a href="management-procedure-mp.html#cb55-16" tabindex="-1"></a>ProFisheryObj2<span class="sc">@</span>retType<span class="ot">&lt;-</span><span class="st">&quot;full&quot;</span></span>
<span id="cb55-17"><a href="management-procedure-mp.html#cb55-17" tabindex="-1"></a>ProFisheryObj2<span class="sc">@</span>retMax <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb55-18"><a href="management-procedure-mp.html#cb55-18" tabindex="-1"></a>ProFisheryObj2<span class="sc">@</span>Dmort <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb55-19"><a href="management-procedure-mp.html#cb55-19" tabindex="-1"></a></span>
<span id="cb55-20"><a href="management-procedure-mp.html#cb55-20" tabindex="-1"></a></span>
<span id="cb55-21"><a href="management-procedure-mp.html#cb55-21" tabindex="-1"></a>ProFisheryObj_list <span class="ot">=</span> <span class="fu">list</span>(ProFisheryObj1, ProFisheryObj2)</span></code></pre></div>
</div>
<div id="uncertainty-in-the-projection-fishery" class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Uncertainty in the projection fishery<a href="management-procedure-mp.html#uncertainty-in-the-projection-fishery" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Additional slots in the <code>StochasticObj</code> object allow for modifications to the fishery projection object. These additional slots, <code>StochasticObj@proFisheryVul_list</code>, <code>StochasticObj@proFisheryRet_list</code>, and <code>StochasticObj@proFisheryDmort_list</code>, are lists where the number of list items corresponds to the number of areas (<code>TimeAreaObj@areas</code>). Each item in the list is a matrix with <span class="math inline">\(n\)</span> columns and 2 rows, where the rows represent the minimum and maximum values for the parameters associated with each column <span class="math inline">\(n\)</span>.</p>
<p>When provided, these lists replace the <code>vulParams</code>, <code>retParams</code>, and <code>Dmort</code> slots in the corresponding items in <code>ProFisheryObj_list</code> (see spatial considerations, above). For <code>StochasticObj@proFisheryVul_list</code> and <code>StochasticObj@proFisheryRet_list</code>, the number of columns in the matrix align with the required inputs for <code>ProFisheryObj@vulType</code> and <code>ProFisheryObj@retType</code>. During each iteration, the model samples values from a uniform distribution within the specified range (i.e., between the min and max values defined in the rows), allowing for uncertainty in the parameters, independently for each area.</p>
<p>The final slots in the <code>StochasticObj</code> object are <code>StochasticObj@sameFisheryVul</code>, <code>StochasticObj@sameFisheryRet</code>, and <code>StochasticObj@sameFisheryDmort</code>. Each slot contains a logical variable (“TRUE” or “FALSE”). If set to <code>TRUE</code>, arguments of <code>StochasticObj</code> that replace arguments of the <code>HistFisheryObj</code> will also replace arguments of the <code>ProFisheryObj_list</code>. This option is provided so that, for a given iteration, identical samples values from the corresponding uniform distribution will be applied to both the historical and projection time periods.</p>
<p>When <code>StochasticObj@sameFisheryVul = TRUE</code>, values generated for <code>StochasticObj@histFisheryVul</code> will be applied so that historical and projection parameter values are identical. TRUE also overrides any input in <code>StochasticObj@proFisheryVul_list</code></p>
<p>When <code>StochasticObj@sameFisheryRet = TRUE</code>, values generated for <code>StochasticObj@histFisheryRet</code> will be applied so that historical and projection parameter values are identical. TRUE also overrides any input in <code>StochasticObj@proFisheryRet_list</code></p>
<p>When <code>StochasticObj@sameFisheryDmort = TRUE</code>, values generated for <code>StochasticObj@histFisheryDmort</code> will be applied so that historical and projection parameter values are identical. TRUE also overrides any input in <code>StochasticObj@proFisheryDmort_list</code></p>
</div>
</div>
<div id="mp-template" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> MP Template<a href="management-procedure-mp.html#mp-template" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>FishSimGTG</strong> provides a framework for users to construct custom MPs. A <code>StrategyObj</code> defines a general set of instructions about the MP, including the slot <code>StrategyObj@projectionName</code> that holds the name of the MP. To develop an MP, the user must populate a function with the same name with an algorithm describing how the fishery will be managed. The MP function must adhere to the template structure described in the next section. The template structure ensures that the MP can integrated into the management strategy evaluation modeling process.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="management-procedure-mp.html#cb56-1" tabindex="-1"></a>StrategyObj<span class="ot">&lt;-</span><span class="fu">new</span>(<span class="st">&quot;Strategy&quot;</span>)</span>
<span id="cb56-2"><a href="management-procedure-mp.html#cb56-2" tabindex="-1"></a>StrategyObj<span class="sc">@</span>title <span class="ot">=</span> <span class="st">&quot;Example&quot;</span></span>
<span id="cb56-3"><a href="management-procedure-mp.html#cb56-3" tabindex="-1"></a>StrategyObj<span class="sc">@</span>projectionYears <span class="ot">=</span> <span class="dv">25</span></span>
<span id="cb56-4"><a href="management-procedure-mp.html#cb56-4" tabindex="-1"></a>StrategyObj<span class="sc">@</span>projectionName <span class="ot">=</span> <span class="st">&quot;MP1&quot;</span>  <span class="co">#Must correspond to a named function</span></span></code></pre></div>
<p>When a new strategy object <code>StrategyObj</code> is created, the function named in the slot <code>StrategyObj@projectionName</code> can be specified using the following template:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="management-procedure-mp.html#cb57-1" tabindex="-1"></a>templateMP <span class="ot">&lt;-</span> <span class="cf">function</span>(phase, dataObject) {</span>
<span id="cb57-2"><a href="management-procedure-mp.html#cb57-2" tabindex="-1"></a></span>
<span id="cb57-3"><a href="management-procedure-mp.html#cb57-3" tabindex="-1"></a>  <span class="co">#------------------------------------</span></span>
<span id="cb57-4"><a href="management-procedure-mp.html#cb57-4" tabindex="-1"></a>  <span class="co">#Unpacking: required - do not delete</span></span>
<span id="cb57-5"><a href="management-procedure-mp.html#cb57-5" tabindex="-1"></a>  <span class="co">#------------------------------------</span></span>
<span id="cb57-6"><a href="management-procedure-mp.html#cb57-6" tabindex="-1"></a>  <span class="co">#Unpack dataObject - objects passed from the OM to the MP</span></span>
<span id="cb57-7"><a href="management-procedure-mp.html#cb57-7" tabindex="-1"></a>  <span class="cf">for</span>(r <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">NROW</span>(dataObject)) <span class="fu">assign</span>(<span class="fu">names</span>(dataObject)[r], dataObject[[r]])</span>
<span id="cb57-8"><a href="management-procedure-mp.html#cb57-8" tabindex="-1"></a></span>
<span id="cb57-9"><a href="management-procedure-mp.html#cb57-9" tabindex="-1"></a></span>
<span id="cb57-10"><a href="management-procedure-mp.html#cb57-10" tabindex="-1"></a>  <span class="co">#------------------------------------------</span></span>
<span id="cb57-11"><a href="management-procedure-mp.html#cb57-11" tabindex="-1"></a>  <span class="co">#Book keeping - be aware of year j indexing!</span></span>
<span id="cb57-12"><a href="management-procedure-mp.html#cb57-12" tabindex="-1"></a>  <span class="co">#------------------------------------------</span></span>
<span id="cb57-13"><a href="management-procedure-mp.html#cb57-13" tabindex="-1"></a>  <span class="co">#OM years are indexed 1:(1 + TimeAreaObj@historicalYears + StrategyObj@projectionYears)</span></span>
<span id="cb57-14"><a href="management-procedure-mp.html#cb57-14" tabindex="-1"></a></span>
<span id="cb57-15"><a href="management-procedure-mp.html#cb57-15" tabindex="-1"></a>  <span class="co">#Indexes specified within Class Strategy are typically indexed 1:projectionYears</span></span>
<span id="cb57-16"><a href="management-procedure-mp.html#cb57-16" tabindex="-1"></a>  <span class="co">#To obtain the current projection year:</span></span>
<span id="cb57-17"><a href="management-procedure-mp.html#cb57-17" tabindex="-1"></a>  yr <span class="ot">&lt;-</span> j <span class="sc">-</span> TimeAreaObj<span class="sc">@</span>historicalYears <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb57-18"><a href="management-procedure-mp.html#cb57-18" tabindex="-1"></a></span>
<span id="cb57-19"><a href="management-procedure-mp.html#cb57-19" tabindex="-1"></a>  <span class="co">#To obtain the terminal year of the historical period</span></span>
<span id="cb57-20"><a href="management-procedure-mp.html#cb57-20" tabindex="-1"></a>  yrHist <span class="ot">&lt;-</span> TimeAreaObj<span class="sc">@</span>historicalYears <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb57-21"><a href="management-procedure-mp.html#cb57-21" tabindex="-1"></a></span>
<span id="cb57-22"><a href="management-procedure-mp.html#cb57-22" tabindex="-1"></a></span>
<span id="cb57-23"><a href="management-procedure-mp.html#cb57-23" tabindex="-1"></a>  <span class="co">#-----------------------------------------------------------------</span></span>
<span id="cb57-24"><a href="management-procedure-mp.html#cb57-24" tabindex="-1"></a>  <span class="co">#Summary of all available objects unpacked and passed from the OM</span></span>
<span id="cb57-25"><a href="management-procedure-mp.html#cb57-25" tabindex="-1"></a>  <span class="co">#-----------------------------------------------------------------</span></span>
<span id="cb57-26"><a href="management-procedure-mp.html#cb57-26" tabindex="-1"></a>  <span class="co">#j, current time step in OM</span></span>
<span id="cb57-27"><a href="management-procedure-mp.html#cb57-27" tabindex="-1"></a>  <span class="co">#k, current iteration in OM</span></span>
<span id="cb57-28"><a href="management-procedure-mp.html#cb57-28" tabindex="-1"></a>  <span class="co">#is, initial stock (equilibrium) for iteration k, year 1, contains values returned by solveD</span></span>
<span id="cb57-29"><a href="management-procedure-mp.html#cb57-29" tabindex="-1"></a>  <span class="co">#lh, LHwrapper object for iteration k, contains values returned by LHwrapper</span></span>
<span id="cb57-30"><a href="management-procedure-mp.html#cb57-30" tabindex="-1"></a>  <span class="co">#areas, contains TimeAreaObj@areas</span></span>
<span id="cb57-31"><a href="management-procedure-mp.html#cb57-31" tabindex="-1"></a>  <span class="co">#ageClasses, contains the number of age classes. Obtained from lh$ageClasses. Caution: age 0 is always the first age class.</span></span>
<span id="cb57-32"><a href="management-procedure-mp.html#cb57-32" tabindex="-1"></a>  <span class="co">#N, abundance-at-age for iteration k. A list of length lh$gtg that contains elements array(dim=c(ageClasses, years, areas))</span></span>
<span id="cb57-33"><a href="management-procedure-mp.html#cb57-33" tabindex="-1"></a>  <span class="co">#selGroup, selectivity for iteration k and step j. A list of length areas with elements contains values returned by selWrapper</span></span>
<span id="cb57-34"><a href="management-procedure-mp.html#cb57-34" tabindex="-1"></a>  <span class="co">#selHist, selectivity for iteration k for historical time period. A list of length areas with elements contains values returned by selWrapper</span></span>
<span id="cb57-35"><a href="management-procedure-mp.html#cb57-35" tabindex="-1"></a>  <span class="co">#selPro, selectivity for iteration k for projection time period. A list of length areas with elements contains values returned by selWrapper</span></span>
<span id="cb57-36"><a href="management-procedure-mp.html#cb57-36" tabindex="-1"></a>  <span class="co">#SB, spawing biomass at the beginnning of the year, array(dim=c(years, iterations, areas))</span></span>
<span id="cb57-37"><a href="management-procedure-mp.html#cb57-37" tabindex="-1"></a>  <span class="co">#VB, vulnerable biomass at the beginning of the year, array(dim=c(years, iterations, areas))</span></span>
<span id="cb57-38"><a href="management-procedure-mp.html#cb57-38" tabindex="-1"></a>  <span class="co">#RB, retained biomass at the beginning of the year, array(dim=c(years, iterations, areas))</span></span>
<span id="cb57-39"><a href="management-procedure-mp.html#cb57-39" tabindex="-1"></a>  <span class="co">#catchN, annual catch in numbers in aggregate across gtg, array(dim=c(years, iterations, areas))</span></span>
<span id="cb57-40"><a href="management-procedure-mp.html#cb57-40" tabindex="-1"></a>  <span class="co">#catchB, annual catch in biomass in aggregate across gtg, array(dim=c(years, iterations, areas))</span></span>
<span id="cb57-41"><a href="management-procedure-mp.html#cb57-41" tabindex="-1"></a>  <span class="co">#discN, dead discards in numbers in aggregate across gtg, array(dim=c(years, iterations, areas))</span></span>
<span id="cb57-42"><a href="management-procedure-mp.html#cb57-42" tabindex="-1"></a>  <span class="co">#discB, dead discards in biomass in aggregate across gtg, array(dim=c(years, iterations, areas))</span></span>
<span id="cb57-43"><a href="management-procedure-mp.html#cb57-43" tabindex="-1"></a>  <span class="co">#Ftotal, fishing mortality rate, array(dim=c(years, iterations, areas))</span></span>
<span id="cb57-44"><a href="management-procedure-mp.html#cb57-44" tabindex="-1"></a>  <span class="co">#SPR, spawning potential ratio, for entire population, array(dim=c(years, iterations))</span></span>
<span id="cb57-45"><a href="management-procedure-mp.html#cb57-45" tabindex="-1"></a>  <span class="co">#relB, relative spawning biomass (depletion) for entire population, array(dim=c(years, iterations))</span></span>
<span id="cb57-46"><a href="management-procedure-mp.html#cb57-46" tabindex="-1"></a>  <span class="co">#recN, annual age-0 recruitment in numbers, array(dim=c(years, iterations))</span></span>
<span id="cb57-47"><a href="management-procedure-mp.html#cb57-47" tabindex="-1"></a>  <span class="co">#decisionData, optional data frame containing annual sampling details. (see phase 1 below)</span></span>
<span id="cb57-48"><a href="management-procedure-mp.html#cb57-48" tabindex="-1"></a>  <span class="co">#decisionAnnual, optional data frame containing analysis and HCR info (see phase 2 below)</span></span>
<span id="cb57-49"><a href="management-procedure-mp.html#cb57-49" tabindex="-1"></a>  <span class="co">#decisionLocal, mandatory data frame containing fishing mortality by area for year j and iteration k, (see phase 3 below)</span></span>
<span id="cb57-50"><a href="management-procedure-mp.html#cb57-50" tabindex="-1"></a>  <span class="co">#RdevMatrix, recruitment deviations, contains values returned by recDev</span></span>
<span id="cb57-51"><a href="management-procedure-mp.html#cb57-51" tabindex="-1"></a>  <span class="co">#Ddev, initial relative biomass deviations, contains values returned by bioDev</span></span>
<span id="cb57-52"><a href="management-procedure-mp.html#cb57-52" tabindex="-1"></a>  <span class="co">#TimeAreaObj</span></span>
<span id="cb57-53"><a href="management-procedure-mp.html#cb57-53" tabindex="-1"></a>  <span class="co">#StrategyObj</span></span>
<span id="cb57-54"><a href="management-procedure-mp.html#cb57-54" tabindex="-1"></a></span>
<span id="cb57-55"><a href="management-procedure-mp.html#cb57-55" tabindex="-1"></a></span>
<span id="cb57-56"><a href="management-procedure-mp.html#cb57-56" tabindex="-1"></a>  <span class="co">#--------------------------------------</span></span>
<span id="cb57-57"><a href="management-procedure-mp.html#cb57-57" tabindex="-1"></a>  <span class="co">#Phases of an MP</span></span>
<span id="cb57-58"><a href="management-procedure-mp.html#cb57-58" tabindex="-1"></a>  <span class="co">#--------------------------------------</span></span>
<span id="cb57-59"><a href="management-procedure-mp.html#cb57-59" tabindex="-1"></a>  <span class="co">#An MP can have up to 3 phases. Phase 3 is mandatory, phases 1 &amp; 2 are optional</span></span>
<span id="cb57-60"><a href="management-procedure-mp.html#cb57-60" tabindex="-1"></a>  <span class="co">#The OM will call this MP 3 times in each time step:</span></span>
<span id="cb57-61"><a href="management-procedure-mp.html#cb57-61" tabindex="-1"></a>  <span class="co">#Phase 1: Observation model or simulated sampling/observations of the OM.</span></span>
<span id="cb57-62"><a href="management-procedure-mp.html#cb57-62" tabindex="-1"></a>  <span class="co">#Phase 2: Analysis and harvest control rule</span></span>
<span id="cb57-63"><a href="management-procedure-mp.html#cb57-63" tabindex="-1"></a>  <span class="co">#Phase 3: Calculate fishing mortality to be passed back to the OM.</span></span>
<span id="cb57-64"><a href="management-procedure-mp.html#cb57-64" tabindex="-1"></a></span>
<span id="cb57-65"><a href="management-procedure-mp.html#cb57-65" tabindex="-1"></a>  <span class="do">########</span></span>
<span id="cb57-66"><a href="management-procedure-mp.html#cb57-66" tabindex="-1"></a>  <span class="co">#Phase 1 - OPTIONAL. Observation process in year j</span></span>
<span id="cb57-67"><a href="management-procedure-mp.html#cb57-67" tabindex="-1"></a>  <span class="co">#Phase 1 is called by the OM once for each iteration, k, and year, j.</span></span>
<span id="cb57-68"><a href="management-procedure-mp.html#cb57-68" tabindex="-1"></a>  <span class="co">#Used to define imperfect sampling in year j</span></span>
<span id="cb57-69"><a href="management-procedure-mp.html#cb57-69" tabindex="-1"></a>  <span class="co">#Returned list is appended to data frame: decisionData</span></span>
<span id="cb57-70"><a href="management-procedure-mp.html#cb57-70" tabindex="-1"></a>  <span class="cf">if</span>(phase<span class="sc">==</span><span class="dv">1</span>){</span>
<span id="cb57-71"><a href="management-procedure-mp.html#cb57-71" tabindex="-1"></a>    <span class="co">#User defines computations needed.</span></span>
<span id="cb57-72"><a href="management-procedure-mp.html#cb57-72" tabindex="-1"></a></span>
<span id="cb57-73"><a href="management-procedure-mp.html#cb57-73" tabindex="-1"></a>    <span class="co">#User defines variable names for returned list, as this info will be used in Phase 2 (HCR)</span></span>
<span id="cb57-74"><a href="management-procedure-mp.html#cb57-74" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">list</span>()) <span class="co">#e.g., return(list(year = j, iteration = k, CPUE = 1.4))</span></span>
<span id="cb57-75"><a href="management-procedure-mp.html#cb57-75" tabindex="-1"></a>  }</span>
<span id="cb57-76"><a href="management-procedure-mp.html#cb57-76" tabindex="-1"></a></span>
<span id="cb57-77"><a href="management-procedure-mp.html#cb57-77" tabindex="-1"></a>  <span class="do">########</span></span>
<span id="cb57-78"><a href="management-procedure-mp.html#cb57-78" tabindex="-1"></a>  <span class="co">#Phase 2 - OPTIONAL. Analysis, decision-rule and/or HCR</span></span>
<span id="cb57-79"><a href="management-procedure-mp.html#cb57-79" tabindex="-1"></a>  <span class="co">#Phase 2 is called by the OM once for each iteration, k, and year, j.</span></span>
<span id="cb57-80"><a href="management-procedure-mp.html#cb57-80" tabindex="-1"></a>  <span class="co">#Used to define how catches will be regulated</span></span>
<span id="cb57-81"><a href="management-procedure-mp.html#cb57-81" tabindex="-1"></a>  <span class="co">#Returned list is appended to data frame: decisionAnnual</span></span>
<span id="cb57-82"><a href="management-procedure-mp.html#cb57-82" tabindex="-1"></a>  <span class="cf">if</span>(phase<span class="sc">==</span><span class="dv">2</span>){</span>
<span id="cb57-83"><a href="management-procedure-mp.html#cb57-83" tabindex="-1"></a>    <span class="co">#User defines computations needed (likely will rely on info saved to decisionData)</span></span>
<span id="cb57-84"><a href="management-procedure-mp.html#cb57-84" tabindex="-1"></a></span>
<span id="cb57-85"><a href="management-procedure-mp.html#cb57-85" tabindex="-1"></a>    <span class="co">#User defines variable names for returned list, as this info will be used in Phase 3</span></span>
<span id="cb57-86"><a href="management-procedure-mp.html#cb57-86" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">list</span>()) <span class="co">#e.g., return(list(year = j, iteration = k, TAC = 1400))</span></span>
<span id="cb57-87"><a href="management-procedure-mp.html#cb57-87" tabindex="-1"></a></span>
<span id="cb57-88"><a href="management-procedure-mp.html#cb57-88" tabindex="-1"></a>  }</span>
<span id="cb57-89"><a href="management-procedure-mp.html#cb57-89" tabindex="-1"></a></span>
<span id="cb57-90"><a href="management-procedure-mp.html#cb57-90" tabindex="-1"></a>  <span class="do">########</span></span>
<span id="cb57-91"><a href="management-procedure-mp.html#cb57-91" tabindex="-1"></a>  <span class="co">#Phase 3 - MANDATORY. Calculation of fishing mortality to be used by the OM</span></span>
<span id="cb57-92"><a href="management-procedure-mp.html#cb57-92" tabindex="-1"></a>  <span class="co">#Phase 3 is called by the OM once for each iteration, k, and year, j.</span></span>
<span id="cb57-93"><a href="management-procedure-mp.html#cb57-93" tabindex="-1"></a>  <span class="co">#Used to compute fishing mortality for the called k and j.</span></span>
<span id="cb57-94"><a href="management-procedure-mp.html#cb57-94" tabindex="-1"></a>  <span class="co">#Returned list is appended to data frame: decisionLocal and retrieved by OM to calcualte catchN, catchB, etc.</span></span>
<span id="cb57-95"><a href="management-procedure-mp.html#cb57-95" tabindex="-1"></a>  <span class="cf">if</span>(phase<span class="sc">==</span><span class="dv">3</span>){</span>
<span id="cb57-96"><a href="management-procedure-mp.html#cb57-96" tabindex="-1"></a></span>
<span id="cb57-97"><a href="management-procedure-mp.html#cb57-97" tabindex="-1"></a>    <span class="co">#Must contain these elements, each a vector of length areas:</span></span>
<span id="cb57-98"><a href="management-procedure-mp.html#cb57-98" tabindex="-1"></a>    year <span class="ot">=</span> <span class="fu">rep</span>(j, areas) <span class="co">#Time step to which fishing mortality applies</span></span>
<span id="cb57-99"><a href="management-procedure-mp.html#cb57-99" tabindex="-1"></a>    iteration <span class="ot">=</span> <span class="fu">rep</span>(k, areas) <span class="co">#Iteration to which fishing mortality applies</span></span>
<span id="cb57-100"><a href="management-procedure-mp.html#cb57-100" tabindex="-1"></a>    area <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span>areas <span class="co">#Area to which fishing mortality applies</span></span>
<span id="cb57-101"><a href="management-procedure-mp.html#cb57-101" tabindex="-1"></a>    Flocal <span class="ot">=</span> <span class="fu">rep</span>(<span class="fl">0.2</span>, areas) <span class="co">#Calculation of fishing mortality (typically a complex computation is needed, e.g., to covert TAC to F)</span></span>
<span id="cb57-102"><a href="management-procedure-mp.html#cb57-102" tabindex="-1"></a></span>
<span id="cb57-103"><a href="management-procedure-mp.html#cb57-103" tabindex="-1"></a>    <span class="co">#Must return this list structure:</span></span>
<span id="cb57-104"><a href="management-procedure-mp.html#cb57-104" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">year=</span>year, <span class="at">iteration=</span>iteration, <span class="at">area=</span>area,  <span class="at">Flocal=</span>Flocal))</span>
<span id="cb57-105"><a href="management-procedure-mp.html#cb57-105" tabindex="-1"></a>  }</span>
<span id="cb57-106"><a href="management-procedure-mp.html#cb57-106" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="mp-lib" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> MP library<a href="management-procedure-mp.html#mp-lib" class="anchor-section" aria-label="Anchor link to header"></a></h2>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="observation-sub-model.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="mse.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": null,
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/USERNAME/REPO/edit/BRANCH/04-MPs.Rmd",
    "text": "Edit"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["_main.pdf", "_main.epub"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
