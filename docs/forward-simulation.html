<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Forward-simulation | FishSimGTG: Population dynamics simulation</title>
  <meta name="description" content="This document includes the description of FishSimGTG" />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Forward-simulation | FishSimGTG: Population dynamics simulation" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This document includes the description of FishSimGTG" />
  <meta name="github-repo" content="natureanalytics-ca/fishSimGTG" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Forward-simulation | FishSimGTG: Population dynamics simulation" />
  
  <meta name="twitter:description" content="This document includes the description of FishSimGTG" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="om-pop.html"/>
<link rel="next" href="customized-management-procedures-mps.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">FishSimGTG User Guide</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> What is FishSimGTG?</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#installation-and-required-packages"><i class="fa fa-check"></i><b>1.1</b> Installation and required packages</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#how-to-use-fishsimgtg"><i class="fa fa-check"></i><b>1.2</b> How to use FishSimGTG?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="om.html"><a href="om.html"><i class="fa fa-check"></i><b>2</b> Description of the Operating Model (OM)</a>
<ul>
<li class="chapter" data-level="2.1" data-path="om.html"><a href="om.html#population-dynamics"><i class="fa fa-check"></i><b>2.1</b> Population dynamics</a></li>
<li class="chapter" data-level="2.2" data-path="om.html"><a href="om.html#life-history"><i class="fa fa-check"></i><b>2.2</b> Life history</a></li>
<li class="chapter" data-level="2.3" data-path="om.html"><a href="om.html#initial-conditions"><i class="fa fa-check"></i><b>2.3</b> Initial conditions</a></li>
<li class="chapter" data-level="2.4" data-path="om.html"><a href="om.html#fishery-dynamics"><i class="fa fa-check"></i><b>2.4</b> Fishery dynamics</a></li>
<li class="chapter" data-level="2.5" data-path="om.html"><a href="om.html#observation-and-monitoring"><i class="fa fa-check"></i><b>2.5</b> Observation and monitoring</a></li>
<li class="chapter" data-level="2.6" data-path="om.html"><a href="om.html#growth-type-group"><i class="fa fa-check"></i><b>2.6</b> Growth-type group</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="om-pop.html"><a href="om-pop.html"><i class="fa fa-check"></i><b>3</b> Parameters of the Operating Model (OM)</a>
<ul>
<li class="chapter" data-level="3.1" data-path="om-pop.html"><a href="om-pop.html#time-area-object"><i class="fa fa-check"></i><b>3.1</b> Time area object</a></li>
<li class="chapter" data-level="3.2" data-path="om-pop.html"><a href="om-pop.html#life-history-object"><i class="fa fa-check"></i><b>3.2</b> Life history object</a></li>
<li class="chapter" data-level="3.3" data-path="om-pop.html"><a href="om-pop.html#fishery-object"><i class="fa fa-check"></i><b>3.3</b> Fishery object</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="om-pop.html"><a href="om-pop.html#selectivity"><i class="fa fa-check"></i><b>3.3.1</b> Selectivity</a></li>
<li class="chapter" data-level="3.3.2" data-path="om-pop.html"><a href="om-pop.html#retention"><i class="fa fa-check"></i><b>3.3.2</b> Retention</a></li>
<li class="chapter" data-level="3.3.3" data-path="om-pop.html"><a href="om-pop.html#discard-mortality-rate"><i class="fa fa-check"></i><b>3.3.3</b> Discard mortality rate</a></li>
<li class="chapter" data-level="3.3.4" data-path="om-pop.html"><a href="om-pop.html#fishery-plots"><i class="fa fa-check"></i><b>3.3.4</b> Fishery plots</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="om-pop.html"><a href="om-pop.html#stochastic-object"><i class="fa fa-check"></i><b>3.4</b> Stochastic object</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="om-pop.html"><a href="om-pop.html#uncertainty-in-life-history"><i class="fa fa-check"></i><b>3.4.1</b> Uncertainty in life history</a></li>
<li class="chapter" data-level="3.4.2" data-path="om-pop.html"><a href="om-pop.html#uncertainty-in-fishery-characteristics"><i class="fa fa-check"></i><b>3.4.2</b> Uncertainty in fishery characteristics</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="om-pop.html"><a href="om-pop.html#lh-sel"><i class="fa fa-check"></i><b>3.5</b> Simulating historical dynamics</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="forward-simulation.html"><a href="forward-simulation.html"><i class="fa fa-check"></i><b>4</b> Forward-simulation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="forward-simulation.html"><a href="forward-simulation.html#strategy-object"><i class="fa fa-check"></i><b>4.1</b> Strategy object</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="forward-simulation.html"><a href="forward-simulation.html#adding-stochasticity-to-the-fishery-projections"><i class="fa fa-check"></i><b>4.1.1</b> Adding stochasticity to the fishery projections</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="forward-simulation.html"><a href="forward-simulation.html#running-the-projection-and-management-strategy-simulation"><i class="fa fa-check"></i><b>4.2</b> Running the projection and management strategy simulation</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="customized-management-procedures-mps.html"><a href="customized-management-procedures-mps.html"><i class="fa fa-check"></i><b>5</b> Customized Management Procedures (MPs)</a>
<ul>
<li class="chapter" data-level="5.1" data-path="customized-management-procedures-mps.html"><a href="customized-management-procedures-mps.html#mp-1"><i class="fa fa-check"></i><b>5.1</b> MP 1</a></li>
<li class="chapter" data-level="5.2" data-path="customized-management-procedures-mps.html"><a href="customized-management-procedures-mps.html#mp-2"><i class="fa fa-check"></i><b>5.2</b> MP 2</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="the-closed-loop-simulation.html"><a href="the-closed-loop-simulation.html"><i class="fa fa-check"></i><b>6</b> The Closed Loop Simulation</a>
<ul>
<li class="chapter" data-level="6.1" data-path="the-closed-loop-simulation.html"><a href="the-closed-loop-simulation.html#management-procedure-or-harvest-strategy"><i class="fa fa-check"></i><b>6.1</b> Management procedure or harvest strategy</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="exploring-the-simulation-outputs.html"><a href="exploring-the-simulation-outputs.html"><i class="fa fa-check"></i><b>7</b> Exploring the Simulation Outputs</a></li>
<li class="chapter" data-level="8" data-path="examples.html"><a href="examples.html"><i class="fa fa-check"></i><b>8</b> Examples</a>
<ul>
<li class="chapter" data-level="8.1" data-path="examples.html"><a href="examples.html#honeycomb-grouper-example"><i class="fa fa-check"></i><b>8.1</b> Honeycomb grouper example</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="examples.html"><a href="examples.html#populationg-the-life-history"><i class="fa fa-check"></i><b>8.1.1</b> Populationg the life history</a></li>
<li class="chapter" data-level="8.1.2" data-path="examples.html"><a href="examples.html#populating-the-fishery-history"><i class="fa fa-check"></i><b>8.1.2</b> Populating the fishery history</a></li>
<li class="chapter" data-level="8.1.3" data-path="examples.html"><a href="examples.html#populating-the-time-and-area-parameters"><i class="fa fa-check"></i><b>8.1.3</b> Populating the time and area parameters</a></li>
<li class="chapter" data-level="8.1.4" data-path="examples.html"><a href="examples.html#exploring-the-paramaterization-of-the-om-so-far"><i class="fa fa-check"></i><b>8.1.4</b> Exploring the paramaterization of the OM so far</a></li>
<li class="chapter" data-level="8.1.5" data-path="examples.html"><a href="examples.html#including-stochasticity"><i class="fa fa-check"></i><b>8.1.5</b> Including stochasticity</a></li>
<li class="chapter" data-level="8.1.6" data-path="examples.html"><a href="examples.html#fishery-projections"><i class="fa fa-check"></i><b>8.1.6</b> Fishery projections</a></li>
<li class="chapter" data-level="8.1.7" data-path="examples.html"><a href="examples.html#the-management-strategy"><i class="fa fa-check"></i><b>8.1.7</b> The management strategy</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">FishSimGTG: Population dynamics simulation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="forward-simulation" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">4</span> Forward-simulation<a href="forward-simulation.html#forward-simulation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>The <strong>FishSimGTG</strong> package can be used to make forward-simulation of proposed management options. Management options can take the form of simple projections or Management Procedures (MPs). Simple projections differ from MPs in that projections consist of ‘static’ actions such as a size limit or constant fishing effort, whereas MPs are ‘dynamic’ actions such as annual adjustments to catch limits. MPs tend to be more complicated because they include a harvest control rule or decision-rule that is informed by updated information gathered from monitoring.</p>
<p>In <strong>FishSimGTG</strong> projections and MPs require the same set of S4-type objects. In this section, simple projections are demonstrated using built-in functions. Learning forward-projections is useful as a pre-cursor to understanding how to design and implement code for MPs.</p>
<p>As previously discussed, the OM is comprised of three required objects in S4 format:</p>
<ul>
<li>Life history object (<code>LifeHistoryObj</code>)</li>
<li>Historical fishery object (<code>HistFisheryObj</code>)</li>
<li>Time-area object (<code>TimeAreaObj</code>)</li>
</ul>
<p>With optional:</p>
<ul>
<li>Stochastic object (<code>StochasticObj</code>)</li>
</ul>
<p>And, producing forward-simulation requires two additional objects in S4 format:</p>
<ul>
<li>Management procedure or harvest strategy object (<code>StrategyObj</code>)</li>
<li>Projection time period fishery object (<code>ProFisheryObj</code>)</li>
</ul>
<div id="strategy-object" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Strategy object<a href="forward-simulation.html#strategy-object" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>StrategyObj</code> holds information about how the fishery will be managed. In this section, we examine simple projection of a static management action (e.g., constant fishing effort).</p>
<p>To create a new object of class <code>StrategyObj</code>, use the <code>new()</code> function.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="forward-simulation.html#cb32-1" tabindex="-1"></a>StrategyObj<span class="ot">&lt;-</span><span class="fu">new</span>(<span class="st">&quot;Strategy&quot;</span>)</span></code></pre></div>
<p>The user can see the elements or slots of the <code>StrategyObj</code> using the <code>slotNames()</code> function.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="forward-simulation.html#cb33-1" tabindex="-1"></a><span class="fu">slotNames</span>(StrategyObj)</span></code></pre></div>
<pre><code>## [1] &quot;title&quot;            &quot;projectionYears&quot;  &quot;projectionName&quot;   &quot;projectionParams&quot;</code></pre>
<p>To populate the <code>StrategyObj</code>, the user should start by specifying a title (<code>title</code>) the number of forward projection years to simulate (<code>projectionYears</code>).</p>
<p>, the <code>projectionName</code>, which defines the name of the strategy, and <code>projectionParams</code>, a list structure that follows the specifications of the projection function defined in <code>projectionName</code>.</p>
<p>In this example, <code>projectionParams</code> is a list with four items. The first item is a vector of length <code>areas</code> containing bag limits (<code>bag</code>). To indicate no bag limit, use <code>-99</code>. The bag limit should be considered as the take per unit time (e.g., per day) and basically acts like a CPUE threshold.</p>
<p>The second item is a matrix with <code>nrows = projectionYears</code> and <code>ncols = areas</code> that contains value multipliers of the initial equilibrium fishing effort (<code>effort</code>). This allows for the projection of effort reductions and the establishment of marine reserves by setting effort to <code>0</code>.</p>
<p>The two final items are a vector of length <code>areas</code> containing CPUE (<code>CPUE</code>), along with a <code>CPUEtype</code>, which is defined as a character string (e.g., <code>retN</code> for retention in numbers).</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="forward-simulation.html#cb35-1" tabindex="-1"></a>StrategyObj<span class="sc">@</span>projectionYears <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb35-2"><a href="forward-simulation.html#cb35-2" tabindex="-1"></a>StrategyObj<span class="sc">@</span>projectionName<span class="ot">&lt;-</span><span class="st">&quot;projectionStrategy&quot;</span></span>
<span id="cb35-3"><a href="forward-simulation.html#cb35-3" tabindex="-1"></a>StrategyObj<span class="sc">@</span>projectionParams<span class="ot">&lt;-</span><span class="fu">list</span>(<span class="at">bag =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">5</span>), <span class="at">effort =</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1</span>, <span class="at">nrow=</span><span class="dv">50</span>, <span class="at">ncol=</span><span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">FALSE</span>), <span class="at">CPUE =</span> <span class="fu">c</span>(<span class="dv">7</span>,<span class="dv">11</span>), <span class="at">CPUEtype =</span> <span class="st">&#39;retN&#39;</span>)</span></code></pre></div>
<p>The user has the option to modify the <code>HistFisheryObj</code> object when performing fishery projections. These modifications are stored in <code>ProFisheryObj</code>. The slots of <code>ProFisheryObj</code> can either be set to the same values as those in <code>HistFisheryObj</code> or adjusted to modify vulnerability, retention, and discard scenarios during the projection phase.</p>
<p><code>ProFisheryObj</code> can be populated as follows:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="forward-simulation.html#cb36-1" tabindex="-1"></a>ProFisheryObj<span class="ot">&lt;-</span><span class="fu">new</span>(<span class="st">&quot;Fishery&quot;</span>)</span>
<span id="cb36-2"><a href="forward-simulation.html#cb36-2" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>title<span class="ot">&lt;-</span><span class="st">&quot;Test&quot;</span></span>
<span id="cb36-3"><a href="forward-simulation.html#cb36-3" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>vulType<span class="ot">&lt;-</span><span class="st">&quot;logistic&quot;</span></span>
<span id="cb36-4"><a href="forward-simulation.html#cb36-4" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>vulParams<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fl">10.2</span>,<span class="fl">0.1</span>)</span>
<span id="cb36-5"><a href="forward-simulation.html#cb36-5" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>retType<span class="ot">&lt;-</span><span class="st">&quot;logistic&quot;</span></span>
<span id="cb36-6"><a href="forward-simulation.html#cb36-6" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>retParams <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">10.2</span>, <span class="fl">0.1</span>)</span>
<span id="cb36-7"><a href="forward-simulation.html#cb36-7" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>retMax <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb36-8"><a href="forward-simulation.html#cb36-8" tabindex="-1"></a>ProFisheryObj<span class="sc">@</span>Dmort <span class="ot">&lt;-</span> <span class="dv">0</span></span></code></pre></div>
<p>In this example, during the projections, we maintain the same vulnerability type and parameters as in the <code>HistFisheryObj</code> object but modify retention to follow a logistic function, using the same parameters as vulnerability.</p>
<div id="adding-stochasticity-to-the-fishery-projections" class="section level3 hasAnchor" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Adding stochasticity to the fishery projections<a href="forward-simulation.html#adding-stochasticity-to-the-fishery-projections" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Additional slots in the <code>StochasticObj</code> object allow for modifications to the fishery projections (<code>ProFisheryObj</code>). These additional slots, <code>proFisheryVul_list</code>, <code>proFisheryRet_list</code>, and <code>proFisheryDmort_list</code>, are lists where the number of objects corresponds to the number of areas (<code>TimeAreaObj@areas</code>) defined in the model. Each object in the list is a matrix with <span class="math inline">\(n\)</span> columns and 2 rows, where the rows represent the minimum and maximum values for the parameters associated with each column <span class="math inline">\(n\)</span>.</p>
<p>When provided, these lists replace the <code>vulParams</code>, <code>retParams</code>, and <code>Dmort</code> slots in the fishery projections (<code>ProFisheryObj</code>). For <code>proFisheryVul_list</code> and <code>proFisheryRet_list</code>, the columns of the matrix align with the required inputs for <code>ProFisheryObj@vulType</code> and <code>ProFisheryObj@retType</code>.</p>
<p>During each iteration, the model samples values from a uniform distribution within the specified range (i.e., between the min and max values in each row), allowing for stochastic variation in the parameters across different areas.</p>
<p>The final slots in the <code>StochasticObj</code> object are <code>sameFisheryVul</code>, <code>sameFisheryRet</code>, and <code>sameFisheryDmort</code>. These slots determine whether the historical and projection parameter values for vulnerability, retention, and discards remain identical. Each slot contains a logical variable (“TRUE” or “FALSE”) that specifies whether the values defined in the <code>HistFisheryObj</code> for <code>vulParams</code>, <code>retParams</code>, and <code>Dmort</code> should also be applied to the fishery projections (<code>ProFisheryObj</code>) for <code>vulType</code>, <code>retType</code>, and <code>Dmort</code>. If set to <code>TRUE</code>, this will override any input provided in <code>ProFisheryObj</code> for these slots.</p>
</div>
</div>
<div id="running-the-projection-and-management-strategy-simulation" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Running the projection and management strategy simulation<a href="forward-simulation.html#running-the-projection-and-management-strategy-simulation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This section provides an example for the user on how to run projections using three management strategies that combine minimum size and bag limits.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="forward-simulation.html#cb37-1" tabindex="-1"></a><span class="co">#Batch processing - 3 management strategies</span></span>
<span id="cb37-2"><a href="forward-simulation.html#cb37-2" tabindex="-1"></a>stateLmin<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fl">10.2</span>, <span class="fl">12.7</span>,  <span class="fl">12.7</span>)</span>
<span id="cb37-3"><a href="forward-simulation.html#cb37-3" tabindex="-1"></a>stateBag<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">20</span>, <span class="sc">-</span><span class="dv">99</span>, <span class="dv">20</span>)</span>
<span id="cb37-4"><a href="forward-simulation.html#cb37-4" tabindex="-1"></a>fileLabel<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;Higher_option1&quot;</span>, <span class="st">&quot;Higher_option2&quot;</span>, <span class="st">&quot;Higher_option3&quot;</span>)</span>
<span id="cb37-5"><a href="forward-simulation.html#cb37-5" tabindex="-1"></a>projectionLabel<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;Bag 20&quot;</span>, <span class="st">&quot;Min size 5 inch&quot;</span>, <span class="st">&quot;Bag 20 &amp; min size 5 inch&quot;</span>)</span></code></pre></div>
<p>In this example, <code>stateLmin</code> is a vector containing three minimum sizes, and <code>stateBag</code> is a vector that contains three bag limits. To indicate no bag limit, use <code>-99</code>. <code>fileLabel</code> is a label for the file name, and <code>projectionLabel</code> defines the name for the strategy that will be evaluated.</p>
<p>To run the projection under the three different management strategies (i.e., “Bag 20”, “Min size 5 inch”, and “Bag 20 &amp; Min size 5 inch”), we will use the <code>runProjection()</code>.</p>
<p>In this example, we modify the retention parameters of the logistic function previously defined in <code>ProFisheryObj@retParams</code>. These parameters are now redefined as <code>ProFisheryObj@retParams &lt;- c(stateLmin[sc], 0.1)</code>, using the pre-specified size limits (<code>stateLmin</code>).</p>
<p>Additionally, in the list structure of the <code>StrategyObj@projectionParams</code>, the elements of the <code>bag</code> vector are replaced by the specified bag limits (<code>stateBag</code>).</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="forward-simulation.html#cb38-1" tabindex="-1"></a><span class="cf">for</span>(sc <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">NROW</span>(stateLmin)){</span>
<span id="cb38-2"><a href="forward-simulation.html#cb38-2" tabindex="-1"></a></span>
<span id="cb38-3"><a href="forward-simulation.html#cb38-3" tabindex="-1"></a>  <span class="co">#Size limit - changes retention, not selectivity</span></span>
<span id="cb38-4"><a href="forward-simulation.html#cb38-4" tabindex="-1"></a>  ProFisheryObj<span class="sc">@</span>retParams<span class="ot">&lt;-</span><span class="fu">c</span>(stateLmin[sc],<span class="fl">0.1</span>)</span>
<span id="cb38-5"><a href="forward-simulation.html#cb38-5" tabindex="-1"></a></span>
<span id="cb38-6"><a href="forward-simulation.html#cb38-6" tabindex="-1"></a>  <span class="co">#Bag limit</span></span>
<span id="cb38-7"><a href="forward-simulation.html#cb38-7" tabindex="-1"></a>StrategyObj<span class="sc">@</span>projectionParams<span class="ot">&lt;-</span><span class="fu">list</span>(<span class="at">bag =</span> <span class="fu">c</span>(stateBag[sc], stateBag[sc]), <span class="at">effort =</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1</span>, <span class="at">nrow=</span><span class="dv">50</span>, <span class="at">ncol=</span><span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">FALSE</span>), <span class="at">CPUE =</span> <span class="fu">c</span>(<span class="dv">7</span>,<span class="dv">11</span>), <span class="at">CPUEtype =</span> <span class="st">&#39;retN&#39;</span>)</span>
<span id="cb38-8"><a href="forward-simulation.html#cb38-8" tabindex="-1"></a></span>
<span id="cb38-9"><a href="forward-simulation.html#cb38-9" tabindex="-1"></a>  <span class="fu">runProjection</span>(<span class="at">LifeHistoryObj =</span> LifeHistoryObj,</span>
<span id="cb38-10"><a href="forward-simulation.html#cb38-10" tabindex="-1"></a>                <span class="at">TimeAreaObj =</span> TimeAreaObj,</span>
<span id="cb38-11"><a href="forward-simulation.html#cb38-11" tabindex="-1"></a>                <span class="at">HistFisheryObj =</span> HistFisheryObj,</span>
<span id="cb38-12"><a href="forward-simulation.html#cb38-12" tabindex="-1"></a>                <span class="at">ProFisheryObj_list =</span> <span class="fu">list</span>(ProFisheryObj, ProFisheryObj),</span>
<span id="cb38-13"><a href="forward-simulation.html#cb38-13" tabindex="-1"></a>                <span class="at">StrategyObj =</span> StrategyObj,</span>
<span id="cb38-14"><a href="forward-simulation.html#cb38-14" tabindex="-1"></a>                <span class="at">StochasticObj =</span> StochasticObj,</span>
<span id="cb38-15"><a href="forward-simulation.html#cb38-15" tabindex="-1"></a>                <span class="at">wd =</span> <span class="fu">here</span>(<span class="st">&quot;data-test&quot;</span>, <span class="st">&quot;Kole&quot;</span>),</span>
<span id="cb38-16"><a href="forward-simulation.html#cb38-16" tabindex="-1"></a>                <span class="at">fileName =</span> fileLabel[sc],</span>
<span id="cb38-17"><a href="forward-simulation.html#cb38-17" tabindex="-1"></a>                <span class="at">doPlot =</span> <span class="cn">TRUE</span>,</span>
<span id="cb38-18"><a href="forward-simulation.html#cb38-18" tabindex="-1"></a>                <span class="at">titleStrategy =</span> projectionLabel[sc]</span>
<span id="cb38-19"><a href="forward-simulation.html#cb38-19" tabindex="-1"></a>  )</span>
<span id="cb38-20"><a href="forward-simulation.html#cb38-20" tabindex="-1"></a>}</span></code></pre></div>
<p>The <code>runProjection()</code> function contains several arguments. The objects <code>LifeHistoryObj</code>, <code>TimeAreaObj</code>, <code>HistFisheryObj</code>, <code>ProFisheryObj_list</code>, and <code>StrategyObj</code> were defined above. Among these, <code>LifeHistoryObj</code>, <code>TimeAreaObj</code>, and <code>HistFisheryObj</code> are required. The objects <code>StochasticObj</code>, <code>ProFisheryObj_list</code>, and <code>StrategyObj</code> are optional; however, <code>ProFisheryObj_list</code> should be used when <code>StrategyObj</code> is specified.</p>
<p>The function requires <code>ProFisheryObj</code> to be entered as a list, allowing the user to modify vulnerability, retention, and discard scenarios during the projection phase across different areas.</p>
<p>The <code>wd</code> argument is required and sets the working directory where the outputs of the projection will be saved. In this example, “Kole” is a subfolder of “data-test,” so all plots will be stored in “Kole.”</p>
<p>The <code>fileName</code> argument specifies the output file name and can be set to the <code>fileLabel</code> defined above. This argument is always required.</p>
<p>The <code>doPlot</code> argument is a logical value indicating whether to produce diagnostic plots upon completing simulations. The default is <code>FALSE</code> (no plots).</p>
<p>The <code>titleStrategy</code> argument describes the title for the management strategy being evaluated and can be set to the <code>projectionLabel</code>.</p>
<p>To explore all the arguments of this function, the user can use <code>?ProFisheryObj</code>.</p>
<p>Next, we present some of the plots produced by <code>runProjection()</code>.</p>
<div class="figure"><span style="display:block;" id="fig:fig-SB-H-opt1"></span>
<img src="data-test/Kole/Higher_option1_SB_Area.png" alt="Spawning biomass by area- Higher_option1 " width="100%" />
<p class="caption">
Figure 4.1: Spawning biomass by area- Higher_option1
</p>
</div>
<div class="figure"><span style="display:block;" id="fig:fig-SB-H-opt2"></span>
<img src="data-test/Kole/Higher_option2_SB_Area.png" alt="Spawning biomass by area- Higher_option2 " width="100%" />
<p class="caption">
Figure 4.2: Spawning biomass by area- Higher_option2
</p>
</div>
<div class="figure"><span style="display:block;" id="fig:fig-SB-H-opt3"></span>
<img src="data-test/Kole/Higher_option3_SB_Area.png" alt="Spawning biomass by area- Higher_option3 " width="100%" />
<p class="caption">
Figure 4.3: Spawning biomass by area- Higher_option3
</p>
</div>
<div class="figure"><span style="display:block;" id="fig:fig-catch-H-opt1"></span>
<img src="data-test/Kole/Higher_option1_catchB_Area.png" alt="Catch biomass by area- Higher_option1 " width="100%" />
<p class="caption">
Figure 4.4: Catch biomass by area- Higher_option1
</p>
</div>
<div class="figure"><span style="display:block;" id="fig:fig-catch-H-opt2"></span>
<img src="data-test/Kole/Higher_option2_catchB_Area.png" alt="Catch biomass by area- Higher_option2 " width="100%" />
<p class="caption">
Figure 4.5: Catch biomass by area- Higher_option2
</p>
</div>
<div class="figure"><span style="display:block;" id="fig:fig-catch-H-opt3"></span>
<img src="data-test/Kole/Higher_option3_catchB_Area.png" alt="Catch biomass by area- Higher_option3 " width="100%" />
<p class="caption">
Figure 4.6: Catch biomass by area- Higher_option3
</p>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="om-pop.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="customized-management-procedures-mps.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/USERNAME/REPO/edit/BRANCH/03-ForwardProjection.Rmd",
    "text": "Edit"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["_main.pdf", "_main.epub"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
